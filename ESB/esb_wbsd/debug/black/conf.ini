state=0:switch=0:last=1