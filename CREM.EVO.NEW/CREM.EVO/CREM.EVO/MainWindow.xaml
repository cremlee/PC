<Window x:Class="CREM.EVO.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:CREM.EVO"
        xmlns:xxx="clr-namespace:CREM.EVO.Utility;assembly=CREM.EVO.Utility"
        xmlns:i="clr-namespace:System.Windows.Interactivity;assembly=System.Windows.Interactivity"
        xmlns:extToolkit="http://schemas.xceed.com/wpf/xaml/toolkit"
        mc:Ignorable="d"
        Title="Crem.EVO.Recipe.System" Height="600" Width="800" WindowStyle="ThreeDBorderWindow">
    <Window.Resources>
        <xxx:CleanVisibleConverter x:Key="CleanVisibleConverter"></xxx:CleanVisibleConverter>
        <xxx:BoolToVisibilityConverter x:Key="BoolToVisibilityConverter"/>
        <xxx:IngredientTypeToVisibilityConverter x:Key="IngredientTypeToVisibilityConverter"/>
        <xxx:IntToIsChecked x:Key="IntToIsChecked"/>
        <xxx:IntToselectIndex x:Key="IntToselectIndex"/>
        <xxx:IntToPicScr x:Key="IntToPicScr"/>
        <xxx:MsToSecConverter x:Key="MsToSecConverter"></xxx:MsToSecConverter>
        <xxx:MgToGgConverter x:Key="MgToGgConverter"/>
        <xxx:boolToColorConverter x:Key="boolToColorConverter"/>
        <xxx:ValueToProcessConverter   x:Key="ValueToProcessConverter"/>
        <Style TargetType="TextBlock">
            <Setter Property="FontFamily" Value="Microsoft YaHei UI"></Setter>
        </Style>
    </Window.Resources>
    <Viewbox Stretch="Fill">
        <Grid Height="900" Width="1200">
            <Grid Name="evo_main" Visibility="{Binding _UiData.is_mainselect_visible, ConverterParameter=Disabled, Converter={StaticResource BoolToVisibilityConverter}, Mode=TwoWay}">
                <Grid.RowDefinitions>
                    <RowDefinition Height="44*"/>
                    <RowDefinition Height="526*"/>
                    <RowDefinition Height="30*"/>
                </Grid.RowDefinitions>
                <Grid Grid.Row="0" Background="Black">
                    <Menu HorizontalAlignment="Right" VerticalAlignment="Center" Background="Transparent" Margin="0,0,10,0">
                        <MenuItem FontSize="30" Header="File" Foreground="WhiteSmoke" >
                            <MenuItem Background="Gray" FontSize="24" Header="Import db File" Tag="1" Click="menu_check"/>
                            <Separator/>
                            <MenuItem Background="Gray" FontSize="24" Header="Export db File" Tag="2" Click="menu_check"/>
                        </MenuItem>
                        <Separator/>
                        <MenuItem FontSize="30" Header="Tool" Foreground="WhiteSmoke">
                            <MenuItem Background="Gray" FontSize="24" Header="ComPort Setting" Tag="3" Click="menu_check"/>
                            <Separator/>
                            <MenuItem Background="Gray" FontSize="24" Header="Extern tools">
                                <MenuItem Background="Gray" FontSize="24" Header="Picture Maker" Tag="5" Click="menu_check"/>
                                <Separator/>
                                <MenuItem Background="Gray" FontSize="24" Header="USB Key Maker" Tag="6" Click="menu_check"/>
                                <Separator/>
                                <MenuItem  Background="Gray" FontSize="24" Header="GIF Tool" Tag="4" Click="menu_check"/>
                            </MenuItem>
                        </MenuItem>
                        <Separator/>
                        <MenuItem  Header="Help" FontSize="30"  Foreground="WhiteSmoke">
                            <MenuItem  Background="Gray" FontSize="24" Header="Help Doucment" Tag="7" Click="menu_check"/>
                            <Separator/>
                            <MenuItem  Background="Gray" FontSize="24" Header="About this" Tag="8" Click="menu_check"/>
                        </MenuItem>
                    </Menu>
                </Grid>
                <Grid Grid.Row="1" >
                    <Grid.Background>
                        <ImageBrush ImageSource="Skin/BG.png"/>
                    </Grid.Background>
                    <Grid Margin="160,80,160,140">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="1*"/>
                            <ColumnDefinition Width="1*"/>
                            <ColumnDefinition Width="1*"/>
                        </Grid.ColumnDefinitions>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="1*"/>
                            <RowDefinition Height="1*"/>

                        </Grid.RowDefinitions>
                        <Button Grid.Row="0" Grid.Column="0" Margin="10"  Content="Machine Configration" Command="{Binding BtnCmd}" CommandParameter="257" Style="{StaticResource EvoMainButtonStyle}" Background="#dddcd5" >
                            <Button.BorderBrush>
                                <ImageBrush ImageSource="Skin/config.png" Stretch="None"/>
                            </Button.BorderBrush>
                        </Button>
                        <Button Grid.Row="0" Grid.Column="1" Margin="10"  Content="Machine Test" Command="{Binding BtnCmd}" CommandParameter="258" Style="{StaticResource EvoMainButtonStyle}" Background="#e7e6df">
                            <Button.BorderBrush>
                                <ImageBrush ImageSource="Skin/test_calibration.png" Stretch="None"/>
                            </Button.BorderBrush>
                        </Button>
                        <Button Grid.Row="0" Grid.Column="2" Margin="10"  Content="Recipe Setting System" Command="{Binding BtnCmd}" CommandParameter="259" Style="{StaticResource EvoMainButtonStyle}" Background="#dddcd5" >
                            <Button.BorderBrush>
                                <ImageBrush ImageSource="Skin/recipe_maker.png" Stretch="None"/>
                            </Button.BorderBrush>
                        </Button>
                        <Button Grid.Row="1" Grid.Column="0" Margin="10"  Content="Clean Setting System" Command="{Binding BtnCmd}" CommandParameter="260" Style="{StaticResource EvoMainButtonStyle}" Background="#e7e6df" >
                            <Button.BorderBrush>
                                <ImageBrush ImageSource="Skin/clean_machine.png" Stretch="None"/>
                            </Button.BorderBrush>
                        </Button>
                        <Button Grid.Row="1" Grid.Column="1" Margin="10"  Content="Machine Setting" Command="{Binding BtnCmd}" CommandParameter="261" Style="{StaticResource EvoMainButtonStyle}"   Background="#cac9c2">
                            <Button.BorderBrush>
                                <ImageBrush ImageSource="Skin/setting.png" Stretch="None"/>
                            </Button.BorderBrush>
                        </Button>
                        <Button Grid.Row="1" Grid.Column="2" Margin="10"  Content="Machine Update" Command="{Binding BtnCmd}" CommandParameter="263" Style="{StaticResource EvoMainButtonStyle}"   Background="#e7e6df" >
                            <Button.BorderBrush>
                                <ImageBrush ImageSource="Skin/update.png" Stretch="None"/>
                            </Button.BorderBrush>
                        </Button>
                    </Grid>
                    <TextBlock HorizontalAlignment="Center" Width="251" Height="100" Margin="0,660,0,5">
                        <TextBlock.Background>
                            <ImageBrush ImageSource="Skin/Logo.png" Stretch="UniformToFill"/>
                        </TextBlock.Background></TextBlock>
                </Grid>
                <Grid Grid.Row="2" Background="#4b6d8b" >
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="1*"/>
                        <ColumnDefinition Width="1*"/>
                        <ColumnDefinition Width="1*"/>
                        <ColumnDefinition Width="1*"/>
                        <ColumnDefinition Width="1*"/>
                        <ColumnDefinition Width="1*"/>
                        <ColumnDefinition Width="1*"/>
                    </Grid.ColumnDefinitions>
                    <TextBlock Grid.Column="0" HorizontalAlignment="Center" VerticalAlignment="Center" FontSize="20" Foreground="White">Connect Status</TextBlock>
                    <TextBlock Grid.Column="1" HorizontalAlignment="Center" VerticalAlignment="Center" FontSize="20" Foreground="White" Text="{Binding _MachineSetingInfo.Connectst}"></TextBlock>
                    <TextBlock Grid.Column="5" HorizontalAlignment="Center" VerticalAlignment="Center" FontSize="20" Foreground="White">Firmware Version</TextBlock>
                    <TextBlock Grid.Column="6" HorizontalAlignment="Center" VerticalAlignment="Center" FontSize="20" Foreground="White" Text="{Binding _MachineSetingInfo.Version}"></TextBlock>

                </Grid>
            </Grid>
            <Grid Name="evo_machineconfig" Visibility="{Binding _UiData.is_machineset_visible, ConverterParameter=Disabled, Converter={StaticResource BoolToVisibilityConverter}, Mode=TwoWay}" d:IsLocked="True" d:IsHidden="True">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="1*"/>
                    <ColumnDefinition Width="5*"/>
                </Grid.ColumnDefinitions>
                <Grid.RowDefinitions>
                    <RowDefinition Height="80*"/>
                    <RowDefinition Height="617*"/>
                    <RowDefinition Height="95*"/>
                </Grid.RowDefinitions>
                <Border Background="#FF1E5D8F">
                    <TextBlock Text="Machine" Foreground="White" TextAlignment="Center" HorizontalAlignment="Stretch" VerticalAlignment="Center" FontSize="36" FontWeight="Bold"></TextBlock>
                </Border>
                <Grid Grid.Column="1">
                    <Grid.RowDefinitions>
                        <RowDefinition Height="6*"/>
                        <RowDefinition Height="1*"/>
                    </Grid.RowDefinitions>
                    <Menu HorizontalAlignment="Right" VerticalAlignment="Center" Background="Transparent" Margin="0,0,10,0">
                        <MenuItem FontSize="32" Header="File" Foreground="Black">
                            <MenuItem FontSize="32" Header="Import db File" Tag="1" Click="menu_check"/>
                            <Separator/>
                            <MenuItem FontSize="32" Header="Export db File" Tag="2" Click="menu_check"/>
                        </MenuItem>
                        <Separator/>
                        <MenuItem FontSize="32" Header="Tool" Foreground="Black">
                            <MenuItem FontSize="32" Header="ComPort Setting" Tag="3" Click="menu_check"/>
                            <Separator/>
                            <MenuItem FontSize="32" Header="Extern tools">
                                <MenuItem FontSize="32" Header="Picture Maker" Tag="5" Click="menu_check"/>
                                <Separator/>
                                <MenuItem FontSize="32" Header="USB Key Maker" Tag="6" Click="menu_check"/>
                            </MenuItem>
                            <Separator/>
                        </MenuItem>
                        <Separator/>
                        <MenuItem  Header="Help" FontSize="32"  Foreground="Black">
                            <MenuItem FontSize="32" Header="Help Doucment" Tag="7" Click="menu_check"/>
                            <Separator/>
                            <MenuItem FontSize="32" Header="About this" Tag="8" Click="menu_check"/>
                        </MenuItem>
                    </Menu>
                    <Border Grid.Row="1" Margin="20,0,0,0" Background="Black"></Border>
                </Grid>
                <Grid Grid.Row="1" Grid.RowSpan="2">
                    <Grid.RowDefinitions>
                        <RowDefinition Height="697*"/>
                        <RowDefinition Height="95*"/>
                    </Grid.RowDefinitions>
                    <ListView VerticalAlignment="Stretch" HorizontalAlignment="Stretch" Background="Red" ItemsSource="{Binding _LstEVOMachine}" Tag="Main" SelectionChanged="ListView_SelectionChanged" Grid.RowSpan="2" >
                        <ListView.Template>
                            <ControlTemplate>
                                <Border>
                                    <ScrollViewer VerticalScrollBarVisibility="Auto" HorizontalScrollBarVisibility="Disabled"  Background="#FF8C8F96" >
                                        <ItemsPresenter />
                                    </ScrollViewer>
                                </Border>
                            </ControlTemplate>
                        </ListView.Template>
                        <ListView.ItemsPanel>
                            <ItemsPanelTemplate>
                                <StackPanel IsItemsHost="True"/>
                            </ItemsPanelTemplate>
                        </ListView.ItemsPanel>
                        <ListView.ItemContainerStyle>
                            <Style TargetType="{x:Type ListViewItem}">
                                <Setter Property="IsSelected" Value="{Binding IsSelected, Mode=TwoWay}"/>
                                <Setter Property="Template">
                                    <Setter.Value>
                                        <ControlTemplate TargetType="{x:Type ListViewItem}">
                                            <Border x:Name="BD_Collector" CornerRadius="3" Background="Transparent" Width="auto" Height="auto" Margin="1">
                                                <Label Content="{Binding Name}" VerticalContentAlignment="Center" HorizontalContentAlignment="Center" FontSize="36" Foreground="White" />
                                            </Border>
                                            <ControlTemplate.Triggers>
                                                <Trigger Property="IsMouseOver" Value="True">
                                                    <Setter TargetName="BD_Collector" Property="Background" Value="gray" />
                                                </Trigger>
                                                <Trigger Property="IsSelected" Value="True">
                                                    <Setter TargetName="BD_Collector" Property="Background" Value="#FF4A6D8C" />
                                                </Trigger>
                                            </ControlTemplate.Triggers>
                                        </ControlTemplate>
                                    </Setter.Value>
                                </Setter>
                            </Style>
                        </ListView.ItemContainerStyle>
                    </ListView>
                    <Grid Grid.Row="1" Margin="20">
                        <Button Command="{Binding BtnCmd}" CommandParameter="2" Style="{DynamicResource HomeButtonStyle}"/>
                    </Grid>
                </Grid>
                <Grid Grid.Row="1" Grid.Column="1">
                    <TabControl Name="tbex" Margin="20,0,0,0"  BorderThickness="0">
                        <TabItem Style="{StaticResource TabStyle}" Header="WaterValve" FontSize="40">
                            <Grid Width="{Binding ElementName=tbex, Path=ActualWidth}" Height="600" d:IsHidden="True">
                                <Grid Grid.Row="0" Visibility="{Binding _UiData.is_valvedetail_visible, ConverterParameter=Enabled, Converter={StaticResource BoolToVisibilityConverter}, Mode=TwoWay}">
                                    <ListView   ItemsSource="{Binding _CrtEVOMachine._WaterValve}" Tag="Valve" SelectionChanged="ListView_SelectionChanged"   >
                                        <i:Interaction.Triggers>
                                            <i:EventTrigger EventName="MouseDoubleClick">
                                                <i:InvokeCommandAction Command="{Binding BtnCmd}" CommandParameter="274"/>
                                            </i:EventTrigger>
                                        </i:Interaction.Triggers>
                                        <ListView.Template>
                                            <ControlTemplate>
                                                <Grid>
                                                    <Grid.RowDefinitions>
                                                        <RowDefinition Height="auto"/>
                                                        <RowDefinition Height="1*"/>
                                                    </Grid.RowDefinitions>
                                                    <ScrollViewer  VerticalScrollBarVisibility="Auto" HorizontalScrollBarVisibility="Disabled" >
                                                        <ItemsPresenter />
                                                    </ScrollViewer>
                                                    <Button Command="{Binding BtnCmd}" CommandParameter="16" Grid.Row="1" Height="60" Width="150" Style="{DynamicResource  ADDButtonStyle}" HorizontalAlignment="Right" VerticalAlignment="Top"></Button>
                                                </Grid>
                                            </ControlTemplate>
                                        </ListView.Template>
                                        <ListView.ItemsPanel>
                                            <ItemsPanelTemplate>
                                                <StackPanel IsItemsHost="True"/>
                                            </ItemsPanelTemplate>
                                        </ListView.ItemsPanel>
                                        <ListView.ItemContainerStyle>

                                            <Style TargetType="{x:Type ListViewItem}">
                                                <Setter Property="IsSelected" Value="{Binding IsSelected, Mode=TwoWay}"/>
                                                <Setter Property="Template">
                                                    <Setter.Value>
                                                        <ControlTemplate TargetType="{x:Type ListViewItem}">
                                                            <Border>
                                                                <Grid x:Name="BD_Collector" Grid.Row="0" Background="#FFF4F5F3">
                                                                    <Grid.ColumnDefinitions>
                                                                        <ColumnDefinition Width="1*"/>
                                                                        <ColumnDefinition Width="2*"/>
                                                                        <ColumnDefinition Width="1*"/>
                                                                        <ColumnDefinition Width="1*"/>
                                                                        <ColumnDefinition Width="1*"/>

                                                                    </Grid.ColumnDefinitions>
                                                                    <Border Grid.ColumnSpan="5" BorderBrush="Black" BorderThickness="2" Height="1" VerticalAlignment="Bottom" Background="#FFCADCED"></Border>
                                                                    <TextBlock Grid.Column="0" Text="{Binding DeviceID}"  VerticalAlignment="Center" HorizontalAlignment="Center" FontSize="32"/>
                                                                    <TextBlock Grid.Column="1" Text="{Binding Name}" VerticalAlignment="Center" HorizontalAlignment="Left" FontSize="32" />
                                                                    <TextBlock Grid.Column="2" Text="{Binding DeviceIoAdress}" VerticalAlignment="Center" HorizontalAlignment="Center" FontSize="32" />
                                                                    <TextBlock Grid.Column="3" Text="{Binding Flow}" VerticalAlignment="Center" HorizontalAlignment="Center" FontSize="32" />
                                                                    <Border Grid.Column="4" Width="40">
                                                                        <Border.Background>
                                                                            <ImageBrush ImageSource="Skin/arrow.png" Stretch="None"/>
                                                                        </Border.Background>
                                                                    </Border>

                                                                </Grid>

                                                            </Border>
                                                            <ControlTemplate.Triggers>
                                                                <Trigger Property="IsMouseOver" Value="True">
                                                                    <Setter TargetName="BD_Collector" Property="Background" Value="gray" />
                                                                </Trigger>
                                                                <Trigger Property="IsSelected" Value="True">
                                                                    <Setter TargetName="BD_Collector" Property="Background" Value="#FF9FD4FF" />
                                                                </Trigger>
                                                            </ControlTemplate.Triggers>
                                                        </ControlTemplate>
                                                    </Setter.Value>
                                                </Setter>
                                            </Style>
                                        </ListView.ItemContainerStyle>
                                    </ListView>
                                </Grid>
                                <Grid  Background="#FFF4F5F3" Visibility="{Binding _UiData.is_valvedetail_visible, ConverterParameter=Disabled, Converter={StaticResource BoolToVisibilityConverter}, Mode=TwoWay}">
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="1*"/>
                                        <RowDefinition Height="9*"/>
                                    </Grid.RowDefinitions>
                                    <Border Background="#FFDFEDF7">
                                        <TextBlock Margin="30,0,0,0" Text="{Binding _CrtWaterValve.Name}" FontSize="32" HorizontalAlignment="Left" VerticalAlignment="Center" TextAlignment="Center" Foreground="Black" ></TextBlock>
                                    </Border>
                                    <Canvas Background="Transparent">
                                        <Button Command="{Binding BtnCmd}" CommandParameter="18" Style="{DynamicResource SaveButtonStyle}" Canvas.Left="800" Canvas.Top="10"></Button>
                                        <Button  Command="{Binding BtnCmd}" CommandParameter="530" Style="{DynamicResource ReturnButtonStyle}" Canvas.Left="700" Canvas.Top="10"></Button>
                                        <Button Command="{Binding BtnCmd}" CommandParameter="17" Style="{DynamicResource DelButtonStyle}" Canvas.Left="900" Canvas.Top="10"></Button>
                                    </Canvas>
                                    <Canvas Grid.Row="1">
                                        <TextBlock  Foreground="Black" Text="Name" HorizontalAlignment="Left" VerticalAlignment="Center" FontSize="32"  Canvas.Left="37" Canvas.Top="30" ></TextBlock>
                                        <TextBlock Foreground="Black" Text="Device ID" HorizontalAlignment="Left" VerticalAlignment="Center"  FontSize="32"   Canvas.Left="37" Canvas.Top="90"></TextBlock>
                                        <TextBlock Foreground="Black" Text="IO Adress" HorizontalAlignment="Left" VerticalAlignment="Center"  FontSize="32"   Canvas.Left="37" Canvas.Top="150" RenderTransformOrigin="0.212,0.961"></TextBlock>
                                        <TextBlock Foreground="Black" Text="Flow" HorizontalAlignment="Left" VerticalAlignment="Center"  FontSize="32"   Canvas.Left="37" Canvas.Top="210"></TextBlock>

                                        <TextBox  BorderBrush="#FFDFEDF7" Text="{Binding _CrtWaterValve.Name, Mode=TwoWay}" HorizontalAlignment="Left" VerticalAlignment="Top" FontSize="32" HorizontalContentAlignment="Center" VerticalContentAlignment="Center" Width="400" Canvas.Left="254" Canvas.Top="30" />
                                        <extToolkit:DecimalUpDown BorderBrush="#FFDFEDF7" Value="{Binding _CrtWaterValve.DeviceID, Mode=TwoWay}" HorizontalAlignment="Left" VerticalAlignment="Top" FontSize="32" TextAlignment="Center"  Width="400" Canvas.Left="254" Canvas.Top="90" ></extToolkit:DecimalUpDown>
                                        <extToolkit:DecimalUpDown BorderBrush="#FFDFEDF7" Value="{Binding _CrtWaterValve.DeviceIoAdress, Mode=TwoWay}" HorizontalAlignment="Left" VerticalAlignment="Top" FontSize="32" TextAlignment="Center"  Width="400" Canvas.Left="254" Canvas.Top="150" ></extToolkit:DecimalUpDown>
                                        <extToolkit:DecimalUpDown BorderBrush="#FFDFEDF7" Value="{Binding _CrtWaterValve.Flow, Mode=TwoWay}" HorizontalAlignment="Left" VerticalAlignment="Top" FontSize="32" TextAlignment="Center" Width="400" Canvas.Left="254" Canvas.Top="210" ></extToolkit:DecimalUpDown>
                                        <Border Width="940" BorderThickness="1" BorderBrush="#FFDFEDF7" HorizontalAlignment="Left" VerticalAlignment="Top" Canvas.Top="280" Canvas.Left="37"></Border>
                                        <!--<Button  Style="{DynamicResource DeleteButtonStyle}" Canvas.Left="794" Margin="0" Width="155" Canvas.Top="315"></Button>-->
                                    </Canvas>

                                </Grid>
                            </Grid>
                        </TabItem>
                        <TabItem Style="{StaticResource TabStyle}" Header="Canister" FontSize="40">
                            <Grid Width="{Binding ElementName=tbex, Path=ActualWidth}" Height="600" d:IsHidden="True">
                                <Grid Grid.Row="0" Visibility="{Binding _UiData.is_canisterdetail_visible, ConverterParameter=Enabled, Converter={StaticResource BoolToVisibilityConverter}, Mode=TwoWay}">
                                    <ListView  ItemsSource="{Binding _CrtEVOMachine._CanisterUnit}" Tag="Canister" SelectionChanged="ListView_SelectionChanged"  >
                                        <i:Interaction.Triggers>
                                            <i:EventTrigger EventName="MouseDoubleClick">
                                                <i:InvokeCommandAction Command="{Binding BtnCmd}" CommandParameter="275"/>
                                            </i:EventTrigger>
                                        </i:Interaction.Triggers>
                                        <ListView.Template>
                                            <ControlTemplate>
                                                <Grid>
                                                    <Grid.RowDefinitions>
                                                        <RowDefinition Height="auto"/>
                                                        <RowDefinition Height="1*"/>
                                                    </Grid.RowDefinitions>
                                                    <ScrollViewer  VerticalScrollBarVisibility="Auto" HorizontalScrollBarVisibility="Disabled" >
                                                        <ItemsPresenter />
                                                    </ScrollViewer>
                                                    <Button Command="{Binding BtnCmd}" CommandParameter="32" Grid.Row="1" Height="60" Width="150" HorizontalAlignment="Right" VerticalAlignment="Top" Style="{DynamicResource  ADDButtonStyle}">Add</Button>
                                                </Grid>

                                            </ControlTemplate>
                                        </ListView.Template>
                                        <ListView.ItemsPanel>
                                            <ItemsPanelTemplate>
                                                <StackPanel IsItemsHost="True"/>
                                            </ItemsPanelTemplate>
                                        </ListView.ItemsPanel>
                                        <ListView.ItemContainerStyle>

                                            <Style TargetType="{x:Type ListViewItem}">
                                                <Setter Property="IsSelected" Value="{Binding IsSelected, Mode=TwoWay}"/>
                                                <Setter Property="Template">
                                                    <Setter.Value>
                                                        <ControlTemplate TargetType="{x:Type ListViewItem}">
                                                            <Border>
                                                                <Grid x:Name="BD_Collector" Grid.Row="0" Background="#FFF4F5F3">
                                                                    <Grid.ColumnDefinitions>
                                                                        <ColumnDefinition Width="1*"/>
                                                                        <ColumnDefinition Width="2*"/>
                                                                        <ColumnDefinition Width="1*"/>
                                                                        <ColumnDefinition Width="1*"/>
                                                                        <ColumnDefinition Width="1*"/>

                                                                    </Grid.ColumnDefinitions>
                                                                    <Border Grid.ColumnSpan="5" BorderBrush="Black" BorderThickness="2" Height="1" VerticalAlignment="Bottom" Background="#FFCADCED"></Border>
                                                                    <TextBlock Grid.Column="0" Text="{Binding DeviceID}"  VerticalAlignment="Center" HorizontalAlignment="Center" FontSize="32"/>
                                                                    <TextBlock Grid.Column="1" Text="{Binding Name}" VerticalAlignment="Center" HorizontalAlignment="Left" FontSize="32" />
                                                                    <TextBlock Grid.Column="2" Text="{Binding DeviceIoAdress}" VerticalAlignment="Center" HorizontalAlignment="Center" FontSize="32" />
                                                                    <TextBlock Grid.Column="3" Text="{Binding Flow}" VerticalAlignment="Center" HorizontalAlignment="Center" FontSize="32" />
                                                                    <Border Grid.Column="4" Width="40">
                                                                        <Border.Background>
                                                                            <ImageBrush ImageSource="Skin/arrow.png" Stretch="None"/>
                                                                        </Border.Background>
                                                                    </Border>

                                                                </Grid>

                                                            </Border>
                                                            <ControlTemplate.Triggers>
                                                                <Trigger Property="IsMouseOver" Value="True">
                                                                    <Setter TargetName="BD_Collector" Property="Background" Value="gray" />
                                                                </Trigger>
                                                                <Trigger Property="IsSelected" Value="True">
                                                                    <Setter TargetName="BD_Collector" Property="Background" Value="#FF9FD4FF" />
                                                                </Trigger>
                                                            </ControlTemplate.Triggers>
                                                        </ControlTemplate>
                                                    </Setter.Value>
                                                </Setter>
                                            </Style>
                                        </ListView.ItemContainerStyle>
                                    </ListView>

                                </Grid>
                                <Grid Name="grd_Canister_detail" Background="#FFF4F5F3" Visibility="{Binding _UiData.is_canisterdetail_visible, ConverterParameter=Disabled, Converter={StaticResource BoolToVisibilityConverter}, Mode=TwoWay}">
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="1*"/>
                                        <RowDefinition Height="9*"/>
                                    </Grid.RowDefinitions>
                                    <Border Background="#FFDFEDF7">
                                        <TextBlock Margin="30,0,0,0" Text="{Binding _CrtCanisterUnit.Name}" FontSize="32" HorizontalAlignment="Left" VerticalAlignment="Center" TextAlignment="Center" Foreground="Black" ></TextBlock>
                                    </Border>
                                    <Canvas Background="Transparent">
                                        <Button Command="{Binding BtnCmd}" CommandParameter="34"  Style="{DynamicResource SaveButtonStyle}" Canvas.Left="800" Canvas.Top="10"></Button>
                                        <Button Command="{Binding BtnCmd}" CommandParameter="531" Style="{DynamicResource ReturnButtonStyle}" Canvas.Left="700" Canvas.Top="10"></Button>
                                        <Button  Command="{Binding BtnCmd}" CommandParameter="33" Style="{DynamicResource DelButtonStyle}" Canvas.Left="900" Canvas.Top="10"></Button>
                                    </Canvas>
                                    <Canvas Grid.Row="1">
                                        <TextBlock  Foreground="Black" Text="Name" HorizontalAlignment="Left" VerticalAlignment="Center" FontSize="32"  Canvas.Left="37" Canvas.Top="30" ></TextBlock>
                                        <TextBlock Foreground="Black" Text="Device ID" HorizontalAlignment="Left" VerticalAlignment="Center"  FontSize="32"   Canvas.Left="37" Canvas.Top="90"></TextBlock>
                                        <TextBlock Foreground="Black" Text="IO Adress" HorizontalAlignment="Left" VerticalAlignment="Center"  FontSize="32"   Canvas.Left="37" Canvas.Top="150" RenderTransformOrigin="0.212,0.961"></TextBlock>
                                        <TextBlock Foreground="Black" Text="Flow" HorizontalAlignment="Left" VerticalAlignment="Center"  FontSize="32"   Canvas.Left="37" Canvas.Top="210"></TextBlock>
                                        <TextBlock Foreground="Black" Text="Postion" HorizontalAlignment="Left" VerticalAlignment="Center"  FontSize="32"   Canvas.Left="37" Canvas.Top="270"></TextBlock>
                                        <TextBlock Foreground="Black" Text="Powder Type" HorizontalAlignment="Left" VerticalAlignment="Center"  FontSize="32"   Canvas.Left="37" Canvas.Top="330"></TextBlock>



                                        <TextBox  BorderBrush="#FFDFEDF7" Text="{Binding _CrtCanisterUnit.Name, Mode=TwoWay}" HorizontalAlignment="Left" VerticalAlignment="Top" FontSize="32" HorizontalContentAlignment="Center" VerticalContentAlignment="Center" Width="400" Canvas.Left="254" Canvas.Top="30" />
                                        <extToolkit:DecimalUpDown BorderBrush="#FFDFEDF7" Value="{Binding _CrtCanisterUnit.DeviceID, Mode=TwoWay}" HorizontalAlignment="Left" VerticalAlignment="Top" FontSize="32" TextAlignment="Center"  Width="400" Canvas.Left="254" Canvas.Top="90" ></extToolkit:DecimalUpDown>
                                        <extToolkit:DecimalUpDown BorderBrush="#FFDFEDF7" Value="{Binding _CrtCanisterUnit.DeviceIoAdress, Mode=TwoWay}" HorizontalAlignment="Left" VerticalAlignment="Top" FontSize="32" TextAlignment="Center"  Width="400" Canvas.Left="254" Canvas.Top="150" ></extToolkit:DecimalUpDown>
                                        <extToolkit:DecimalUpDown BorderBrush="#FFDFEDF7" Value="{Binding _CrtCanisterUnit.Flow, Mode=TwoWay}" HorizontalAlignment="Left" VerticalAlignment="Top" FontSize="32" TextAlignment="Center" Width="400" Canvas.Left="254" Canvas.Top="210" ></extToolkit:DecimalUpDown>
                                        <ComboBox HorizontalContentAlignment="Center" VerticalContentAlignment="Center" HorizontalAlignment="Left" VerticalAlignment="Top" FontSize="32"  Width="400" Canvas.Left="254" Canvas.Top="270"  SelectedIndex="{Binding _CrtCanisterUnit.Postion, Mode=TwoWay}" >
                                            <ComboBoxItem Content="left"/>
                                            <ComboBoxItem Content="mid-left"/>
                                            <ComboBoxItem Content="mid-right"/>
                                            <ComboBoxItem Content="right"/>
                                        </ComboBox>
                                        <ComboBox HorizontalContentAlignment="Center" VerticalContentAlignment="Center" HorizontalAlignment="Left" VerticalAlignment="Top" FontSize="32"  Width="400" Canvas.Left="254" Canvas.Top="330"  SelectedIndex="{Binding _CrtCanisterUnit.Powdertype, Mode=TwoWay}" >
                                            <ComboBoxItem Content="null"/>
                                            <ComboBoxItem Content="espresso"/>
                                            <ComboBoxItem Content="chocolate"/>
                                            <ComboBoxItem Content="sugar"/>
                                            <ComboBoxItem Content="milk"/>
                                        </ComboBox>
                                        <Border Width="940" BorderThickness="1" BorderBrush="#FFDFEDF7" HorizontalAlignment="Left" VerticalAlignment="Top" Canvas.Top="400" Canvas.Left="37"></Border>
                                    </Canvas>
                                </Grid>
                            </Grid>
                        </TabItem>
                        <TabItem Style="{StaticResource TabStyle}" Header="Mixer" FontSize="40">
                            <Grid Width="{Binding ElementName=tbex, Path=ActualWidth}" Height="600">
                                <Grid Grid.Row="0" Visibility="{Binding _UiData.is_mixerdetail_visible, ConverterParameter=Enabled, Converter={StaticResource BoolToVisibilityConverter}, Mode=TwoWay}">
                                    <ListView   ItemsSource="{Binding _CrtEVOMachine._MixerUnit}" Tag="Mixser" SelectionChanged="ListView_SelectionChanged"   >
                                        <i:Interaction.Triggers>
                                            <i:EventTrigger EventName="MouseDoubleClick">
                                                <i:InvokeCommandAction Command="{Binding BtnCmd}" CommandParameter="276"/>
                                            </i:EventTrigger>
                                        </i:Interaction.Triggers>
                                        <ListView.Template>
                                            <ControlTemplate>
                                                <Grid>
                                                    <Grid.RowDefinitions>
                                                        <RowDefinition Height="auto"/>
                                                        <RowDefinition Height="1*"/>
                                                    </Grid.RowDefinitions>
                                                    <ScrollViewer  VerticalScrollBarVisibility="Auto" HorizontalScrollBarVisibility="Disabled" >
                                                        <ItemsPresenter />
                                                    </ScrollViewer>
                                                    <Button Command="{Binding BtnCmd}" CommandParameter="48" Grid.Row="1" Height="60" Width="150" Style="{DynamicResource  ADDButtonStyle}" HorizontalAlignment="Right" VerticalAlignment="Top"></Button>
                                                </Grid>
                                            </ControlTemplate>
                                        </ListView.Template>
                                        <ListView.ItemsPanel>
                                            <ItemsPanelTemplate>
                                                <StackPanel IsItemsHost="True"/>
                                            </ItemsPanelTemplate>
                                        </ListView.ItemsPanel>
                                        <ListView.ItemContainerStyle>

                                            <Style TargetType="{x:Type ListViewItem}">
                                                <Setter Property="IsSelected" Value="{Binding IsSelected, Mode=TwoWay}"/>
                                                <Setter Property="Template">
                                                    <Setter.Value>
                                                        <ControlTemplate TargetType="{x:Type ListViewItem}">
                                                            <Border>
                                                                <Grid x:Name="BD_Collector" Grid.Row="0" Background="#FFF4F5F3">
                                                                    <Grid.ColumnDefinitions>
                                                                        <ColumnDefinition Width="1*"/>
                                                                        <ColumnDefinition Width="2*"/>
                                                                        <ColumnDefinition Width="1*"/>
                                                                        <ColumnDefinition Width="1*"/>
                                                                        <ColumnDefinition Width="1*"/>

                                                                    </Grid.ColumnDefinitions>
                                                                    <Border Grid.ColumnSpan="5" BorderBrush="Black" BorderThickness="2" Height="1" VerticalAlignment="Bottom" Background="#FFCADCED"></Border>
                                                                    <TextBlock Grid.Column="0" Text="{Binding DeviceID}"  VerticalAlignment="Center" HorizontalAlignment="Center" FontSize="32"/>
                                                                    <TextBlock Grid.Column="1" Text="{Binding Name}" VerticalAlignment="Center" HorizontalAlignment="Left" FontSize="32" />
                                                                    <TextBlock Grid.Column="2" Text="{Binding DeviceIoAdress}" VerticalAlignment="Center" HorizontalAlignment="Center" FontSize="32" />
                                                                    <TextBlock Grid.Column="3" Text="{Binding Flow}" VerticalAlignment="Center" HorizontalAlignment="Center" FontSize="32" />
                                                                    <Border Grid.Column="4" Width="40">
                                                                        <Border.Background>
                                                                            <ImageBrush ImageSource="Skin/arrow.png" Stretch="None"/>
                                                                        </Border.Background>
                                                                    </Border>

                                                                </Grid>

                                                            </Border>
                                                            <ControlTemplate.Triggers>
                                                                <Trigger Property="IsMouseOver" Value="True">
                                                                    <Setter TargetName="BD_Collector" Property="Background" Value="gray" />
                                                                </Trigger>
                                                                <Trigger Property="IsSelected" Value="True">
                                                                    <Setter TargetName="BD_Collector" Property="Background" Value="#FF9FD4FF" />
                                                                </Trigger>
                                                            </ControlTemplate.Triggers>
                                                        </ControlTemplate>
                                                    </Setter.Value>
                                                </Setter>
                                            </Style>
                                        </ListView.ItemContainerStyle>
                                    </ListView>
                                </Grid>
                                <Grid  Background="#FFF4F5F3" Visibility="{Binding _UiData.is_mixerdetail_visible, ConverterParameter=Disabled, Converter={StaticResource BoolToVisibilityConverter}, Mode=TwoWay}">
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="1*"/>
                                        <RowDefinition Height="9*"/>
                                    </Grid.RowDefinitions>
                                    <Border Background="#FFDFEDF7">
                                        <TextBlock Margin="30,0,0,0" Text="{Binding _CrtMixerUnit.Name}" FontSize="32" HorizontalAlignment="Left" VerticalAlignment="Center" TextAlignment="Center" Foreground="Black" ></TextBlock>
                                    </Border>
                                    <Canvas Background="Transparent">
                                        <Button Command="{Binding BtnCmd}" CommandParameter="50" Style="{DynamicResource SaveButtonStyle}" Canvas.Left="800" Canvas.Top="10"></Button>
                                        <Button  Command="{Binding BtnCmd}" CommandParameter="532" Style="{DynamicResource ReturnButtonStyle}" Canvas.Left="700" Canvas.Top="10"></Button>
                                        <Button Command="{Binding BtnCmd}" CommandParameter="49" Style="{DynamicResource DelButtonStyle}" Canvas.Left="900" Canvas.Top="10"></Button>
                                    </Canvas>
                                    <Canvas Grid.Row="1">
                                        <TextBlock  Foreground="Black" Text="Name" HorizontalAlignment="Left" VerticalAlignment="Center" FontSize="32"  Canvas.Left="37" Canvas.Top="30" ></TextBlock>
                                        <TextBlock Foreground="Black" Text="Device ID" HorizontalAlignment="Left" VerticalAlignment="Center"  FontSize="32"   Canvas.Left="37" Canvas.Top="90"></TextBlock>
                                        <TextBlock Foreground="Black" Text="IO Adress" HorizontalAlignment="Left" VerticalAlignment="Center"  FontSize="32"   Canvas.Left="37" Canvas.Top="150" RenderTransformOrigin="0.212,0.961"></TextBlock>
                                        <TextBlock Foreground="Black" Text="Speed" HorizontalAlignment="Left" VerticalAlignment="Center"  FontSize="32"   Canvas.Left="37" Canvas.Top="210"></TextBlock>

                                        <TextBox  BorderBrush="#FFDFEDF7" Text="{Binding _CrtMixerUnit.Name, Mode=TwoWay}" HorizontalAlignment="Left" VerticalAlignment="Top" FontSize="32" HorizontalContentAlignment="Center" VerticalContentAlignment="Center" Width="400" Canvas.Left="254" Canvas.Top="30" />
                                        <extToolkit:DecimalUpDown BorderBrush="#FFDFEDF7" Value="{Binding _CrtMixerUnit.DeviceID, Mode=TwoWay}" HorizontalAlignment="Left" VerticalAlignment="Top" FontSize="32" TextAlignment="Center"  Width="400" Canvas.Left="254" Canvas.Top="90" ></extToolkit:DecimalUpDown>
                                        <extToolkit:DecimalUpDown BorderBrush="#FFDFEDF7" Value="{Binding _CrtMixerUnit.DeviceIoAdress, Mode=TwoWay}" HorizontalAlignment="Left" VerticalAlignment="Top" FontSize="32" TextAlignment="Center"  Width="400" Canvas.Left="254" Canvas.Top="150" ></extToolkit:DecimalUpDown>
                                        <extToolkit:DecimalUpDown BorderBrush="#FFDFEDF7" Value="{Binding _CrtMixerUnit.Speed, Mode=TwoWay}" HorizontalAlignment="Left" VerticalAlignment="Top" FontSize="32" TextAlignment="Center" Width="400" Canvas.Left="254" Canvas.Top="210" ></extToolkit:DecimalUpDown>
                                        <Border Width="940" BorderThickness="1" BorderBrush="#FFDFEDF7" HorizontalAlignment="Left" VerticalAlignment="Top" Canvas.Top="280" Canvas.Left="37"></Border>
                                        <!--<Button  Style="{DynamicResource DeleteButtonStyle}" Canvas.Left="794" Margin="0" Width="155" Canvas.Top="315"></Button>-->
                                    </Canvas>

                                </Grid>
                            </Grid>
                        </TabItem>
                        <TabItem Style="{StaticResource TabStyle}" Header="BeanHopper" FontSize="40">
                            <Grid Width="{Binding ElementName=tbex, Path=ActualWidth}" Height="600">
                                <Grid Grid.Row="0" Visibility="{Binding _UiData.is_beandetail_visible, ConverterParameter=Enabled, Converter={StaticResource BoolToVisibilityConverter}, Mode=TwoWay}">
                                    <ListView  ItemsSource="{Binding _CrtEVOMachine._BeanHopperUint}" Tag="BeanHopper" SelectionChanged="ListView_SelectionChanged"  >
                                        <i:Interaction.Triggers>
                                            <i:EventTrigger EventName="MouseDoubleClick">
                                                <i:InvokeCommandAction Command="{Binding BtnCmd}" CommandParameter="277"/>
                                            </i:EventTrigger>
                                        </i:Interaction.Triggers>
                                        <ListView.Template>
                                            <ControlTemplate>
                                                <Grid>
                                                    <Grid.RowDefinitions>
                                                        <RowDefinition Height="auto"/>
                                                        <RowDefinition Height="1*"/>
                                                    </Grid.RowDefinitions>
                                                    <ScrollViewer  VerticalScrollBarVisibility="Auto" HorizontalScrollBarVisibility="Disabled" >
                                                        <ItemsPresenter />
                                                    </ScrollViewer>
                                                    <Button Command="{Binding BtnCmd}" CommandParameter="64" Grid.Row="1" Height="60" Width="150" HorizontalAlignment="Right" VerticalAlignment="Top" Style="{DynamicResource  ADDButtonStyle}">Add</Button>
                                                </Grid>

                                            </ControlTemplate>
                                        </ListView.Template>
                                        <ListView.ItemsPanel>
                                            <ItemsPanelTemplate>
                                                <StackPanel IsItemsHost="True"/>
                                            </ItemsPanelTemplate>
                                        </ListView.ItemsPanel>
                                        <ListView.ItemContainerStyle>

                                            <Style TargetType="{x:Type ListViewItem}">
                                                <Setter Property="IsSelected" Value="{Binding IsSelected, Mode=TwoWay}"/>
                                                <Setter Property="Template">
                                                    <Setter.Value>
                                                        <ControlTemplate TargetType="{x:Type ListViewItem}">
                                                            <Border>
                                                                <Grid x:Name="BD_Collector" Grid.Row="0" Background="#FFF4F5F3">
                                                                    <Grid.ColumnDefinitions>
                                                                        <ColumnDefinition Width="1*"/>
                                                                        <ColumnDefinition Width="2*"/>
                                                                        <ColumnDefinition Width="1*"/>
                                                                        <ColumnDefinition Width="1*"/>
                                                                        <ColumnDefinition Width="1*"/>

                                                                    </Grid.ColumnDefinitions>
                                                                    <Border Grid.ColumnSpan="5" BorderBrush="Black" BorderThickness="2" Height="1" VerticalAlignment="Bottom" Background="#FFCADCED"></Border>
                                                                    <TextBlock Grid.Column="0" Text="{Binding DeviceID}"  VerticalAlignment="Center" HorizontalAlignment="Center" FontSize="32"/>
                                                                    <TextBlock Grid.Column="1" Text="{Binding Name}" VerticalAlignment="Center" HorizontalAlignment="Left" FontSize="32" />
                                                                    <TextBlock Grid.Column="2" Text="{Binding DeviceIoAdress}" VerticalAlignment="Center" HorizontalAlignment="Center" FontSize="32" />
                                                                    <TextBlock Grid.Column="3" Text="{Binding Flow}" VerticalAlignment="Center" HorizontalAlignment="Center" FontSize="32" />
                                                                    <Border Grid.Column="4" Width="40">
                                                                        <Border.Background>
                                                                            <ImageBrush ImageSource="Skin/arrow.png" Stretch="None"/>
                                                                        </Border.Background>
                                                                    </Border>

                                                                </Grid>

                                                            </Border>
                                                            <ControlTemplate.Triggers>
                                                                <Trigger Property="IsMouseOver" Value="True">
                                                                    <Setter TargetName="BD_Collector" Property="Background" Value="gray" />
                                                                </Trigger>
                                                                <Trigger Property="IsSelected" Value="True">
                                                                    <Setter TargetName="BD_Collector" Property="Background" Value="#FF9FD4FF" />
                                                                </Trigger>
                                                            </ControlTemplate.Triggers>
                                                        </ControlTemplate>
                                                    </Setter.Value>
                                                </Setter>
                                            </Style>
                                        </ListView.ItemContainerStyle>
                                    </ListView>

                                </Grid>
                                <Grid Name="grd_Hopper_detail" Background="#FFF4F5F3" Visibility="{Binding _UiData.is_beandetail_visible, ConverterParameter=Disabled, Converter={StaticResource BoolToVisibilityConverter}, Mode=TwoWay}">
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="1*"/>
                                        <RowDefinition Height="9*"/>
                                    </Grid.RowDefinitions>
                                    <Border Background="#FFDFEDF7">
                                        <TextBlock Margin="30,0,0,0" Text="{Binding _CrtBeanHopperUint.Name}" FontSize="32" HorizontalAlignment="Left" VerticalAlignment="Center" TextAlignment="Center" Foreground="Black" ></TextBlock>
                                    </Border>
                                    <Canvas Background="Transparent">
                                        <Button Command="{Binding BtnCmd}" CommandParameter="66"  Style="{DynamicResource SaveButtonStyle}" Canvas.Left="800" Canvas.Top="10"></Button>
                                        <Button Command="{Binding BtnCmd}" CommandParameter="533" Style="{DynamicResource ReturnButtonStyle}" Canvas.Left="700" Canvas.Top="10"></Button>
                                        <Button  Command="{Binding BtnCmd}" CommandParameter="65" Style="{DynamicResource DelButtonStyle}" Canvas.Left="900" Canvas.Top="10"></Button>
                                    </Canvas>
                                    <Canvas Grid.Row="1">
                                        <TextBlock  Foreground="Black" Text="Name" HorizontalAlignment="Left" VerticalAlignment="Center" FontSize="32"  Canvas.Left="37" Canvas.Top="30" ></TextBlock>
                                        <TextBlock Foreground="Black" Text="Device ID" HorizontalAlignment="Left" VerticalAlignment="Center"  FontSize="32"   Canvas.Left="37" Canvas.Top="90"></TextBlock>
                                        <TextBlock Foreground="Black" Text="IO Adress" HorizontalAlignment="Left" VerticalAlignment="Center"  FontSize="32"   Canvas.Left="37" Canvas.Top="150" RenderTransformOrigin="0.212,0.961"></TextBlock>
                                        <TextBlock Foreground="Black" Text="Flow" HorizontalAlignment="Left" VerticalAlignment="Center"  FontSize="32"   Canvas.Left="37" Canvas.Top="210"></TextBlock>
                                        <TextBlock Foreground="Black" Text="Bean Type" HorizontalAlignment="Left" VerticalAlignment="Center"  FontSize="32"   Canvas.Left="37" Canvas.Top="270"></TextBlock>



                                        <TextBox  BorderBrush="#FFDFEDF7" Text="{Binding _CrtBeanHopperUint.Name, Mode=TwoWay}" HorizontalAlignment="Left" VerticalAlignment="Top" FontSize="32" HorizontalContentAlignment="Center" VerticalContentAlignment="Center" Width="400" Canvas.Left="254" Canvas.Top="30" />
                                        <extToolkit:DecimalUpDown BorderBrush="#FFDFEDF7" Value="{Binding _CrtBeanHopperUint.DeviceID, Mode=TwoWay}" HorizontalAlignment="Left" VerticalAlignment="Top" FontSize="32" TextAlignment="Center"  Width="400" Canvas.Left="254" Canvas.Top="90" ></extToolkit:DecimalUpDown>
                                        <extToolkit:DecimalUpDown BorderBrush="#FFDFEDF7" Value="{Binding _CrtBeanHopperUint.DeviceIoAdress, Mode=TwoWay}" HorizontalAlignment="Left" VerticalAlignment="Top" FontSize="32" TextAlignment="Center"  Width="400" Canvas.Left="254" Canvas.Top="150" ></extToolkit:DecimalUpDown>
                                        <extToolkit:DecimalUpDown BorderBrush="#FFDFEDF7" Value="{Binding _CrtBeanHopperUint.Flow, Mode=TwoWay}" HorizontalAlignment="Left" VerticalAlignment="Top" FontSize="32" TextAlignment="Center" Width="400" Canvas.Left="254" Canvas.Top="210" ></extToolkit:DecimalUpDown>
                                        <ComboBox HorizontalContentAlignment="Center" VerticalContentAlignment="Center" HorizontalAlignment="Left" VerticalAlignment="Top" FontSize="32"  Width="400" Canvas.Left="254" Canvas.Top="270"  SelectedIndex="{Binding _CrtBeanHopperUint.Powdertype, Mode=TwoWay}" >
                                            <ComboBoxItem Content="NULL"/>
                                            <ComboBoxItem Content="Coffee_Bean1"/>
                                            <ComboBoxItem Content="Coffee_Bean2"/>
                                        </ComboBox>
                                        <Border Width="940" BorderThickness="1" BorderBrush="#FFDFEDF7" HorizontalAlignment="Left" VerticalAlignment="Top" Canvas.Top="400" Canvas.Left="37"></Border>
                                    </Canvas>
                                </Grid>
                            </Grid>
                        </TabItem>
                    </TabControl>
                </Grid>
            </Grid>
            <Grid Name="evo_testCalibration" Visibility="{Binding _UiData.is_machinetest_visible, ConverterParameter=Disabled, Converter={StaticResource BoolToVisibilityConverter}, Mode=TwoWay}" d:IsHidden="True" d:IsLocked="True" >
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="1*"/>
                    <ColumnDefinition Width="5*"/>
                </Grid.ColumnDefinitions>
                <Grid.RowDefinitions>
                    <RowDefinition Height="80*"/>
                    <RowDefinition Height="617*"/>
                    <RowDefinition Height="95*"/>
                </Grid.RowDefinitions>
                <Border Background="#FF1E5D8F">
                    <TextBlock Text="{Binding _CrtEVOMachine.Name}" Foreground="White" TextAlignment="Center" HorizontalAlignment="Stretch" VerticalAlignment="Center" FontSize="28" FontWeight="Bold"></TextBlock>
                </Border>
                <Grid Grid.Column="1">
                    <Grid.RowDefinitions>
                        <RowDefinition Height="6*"/>
                        <RowDefinition Height="1*"/>
                    </Grid.RowDefinitions>
                    <Menu HorizontalAlignment="Right" VerticalAlignment="Center" Background="Transparent" Margin="0,0,10,0">
                        <MenuItem FontSize="32" Header="File" Foreground="Black">
                            <MenuItem FontSize="32" Header="Import db File" Tag="1" Click="menu_check"/>
                            <Separator/>
                            <MenuItem FontSize="32" Header="Export db File" Tag="2" Click="menu_check"/>
                        </MenuItem>
                        <Separator/>
                        <MenuItem FontSize="32" Header="Tool" Foreground="Black">
                            <MenuItem FontSize="32" Header="ComPort Setting" Tag="3" Click="menu_check"/>
                            <Separator/>
                            <MenuItem FontSize="32" Header="Extern tools">
                                <MenuItem FontSize="32" Header="Picture Maker" Tag="5" Click="menu_check"/>
                                <Separator/>
                                <MenuItem FontSize="32" Header="USB Key Maker" Tag="6" Click="menu_check"/>
                            </MenuItem>
                            <Separator/>
                        </MenuItem>
                        <Separator/>
                        <MenuItem  Header="Help" FontSize="32"  Foreground="Black">
                            <MenuItem FontSize="32" Header="Help Doucment" Tag="7" Click="menu_check"/>
                            <Separator/>
                            <MenuItem FontSize="32" Header="About this" Tag="8" Click="menu_check"/>
                        </MenuItem>
                    </Menu>
                    <Border Grid.Row="1" Margin="20,0,0,0" Background="Black"></Border>
                </Grid>
                <Grid Grid.Row="1" Grid.RowSpan="2">
                    <StackPanel VerticalAlignment="Stretch" HorizontalAlignment="Stretch"  Background="#FF8C8F96">
                        <RadioButton Foreground="White" Command="{Binding BtnCmd}" CommandParameter="280" FontSize="36" Style="{DynamicResource ListButtonStyle}" >Test</RadioButton>
                        <RadioButton Foreground="White" Command="{Binding BtnCmd}" CommandParameter="281" FontSize="36" Style="{DynamicResource ListButtonStyle}">Calibration</RadioButton>
                    </StackPanel>
                </Grid>
                <Grid Grid.Row="2" Margin="20">
                    <Button Command="{Binding BtnCmd}" CommandParameter="2" Style="{DynamicResource HomeButtonStyle}"/>
                </Grid>
                <!--test function-->
                <Grid Margin="20,0,0,0" Name="grd_test_main" Grid.Row="1" Grid.Column="1" Grid.RowSpan="2" Visibility="{Binding _UiData.is_machinetestoverview_visible, ConverterParameter=Disabled, Converter={StaticResource BoolToVisibilityConverter}, Mode=TwoWay}" >
                    <Canvas>
                        <Canvas.Background>
                            <ImageBrush ImageSource="testimage/bg_hardware_test_overview.jpg"/>
                        </Canvas.Background>
                        <TextBlock Text="{Binding _MachineInfo.Temp_water}" FontSize="24" Canvas.Left="886" Canvas.Top="242"></TextBlock>
                        <Ellipse Name="elpCup1" ToolTip="Cup1" Fill="{Binding _MachineInfo.Exist_cup1, Converter={StaticResource boolToColorConverter}}" Width="30" Height="30" Canvas.Left="126" Canvas.Top="318" ></Ellipse>
                        <Ellipse Name="elpCup2" ToolTip="Cup2" Fill="{Binding _MachineInfo.Exist_cup2, Converter={StaticResource boolToColorConverter}}" Width="30" Height="30" Canvas.Left="266" Canvas.Top="318" ></Ellipse>
                        <Rectangle Name="wll" ToolTip="WaterLevel Low" Fill="{Binding _MachineInfo.Waterlevel_low, Converter={StaticResource boolToColorConverter}}" Width="6" Height="100" Canvas.Left="422" Canvas.Top="223" ></Rectangle>
                        <Rectangle Name="wlh" ToolTip="WaterLevel High" Fill="{Binding _MachineInfo.Waterlevel_high, Converter={StaticResource boolToColorConverter}}" Width="6" Height="50" Canvas.Left="441" Canvas.Top="223" ></Rectangle>
                        <Ellipse Name="elpdor" ToolTip="Door" Fill="{Binding _MachineInfo.Exist_door, Converter={StaticResource boolToColorConverter}}" Width="30" Height="30" Canvas.Left="66" Canvas.Top="168" ></Ellipse>
                        <Ellipse Name="elpdriptray" ToolTip="Driptray" Fill="{Binding _MachineInfo.Exist_dripswitch, Converter={StaticResource boolToColorConverter}}" Width="30" Height="30" Canvas.Left="126" Canvas.Top="378" ></Ellipse>
                        <Ellipse Name="elpoverflow" ToolTip="Overflow" Fill="{Binding _MachineInfo.Exist_driplevel, Converter={StaticResource boolToColorConverter}}" Width="30" Height="30" Canvas.Left="266" Canvas.Top="383" ></Ellipse>
                        <Ellipse Visibility="Hidden" Name="brewswitch" ToolTip="Brewswitch" Fill="{Binding _MachineInfo.Brew_sw, Converter={StaticResource boolToColorConverter}}" Width="30" Height="30" Canvas.Left="567" Canvas.Top="536" ></Ellipse>
                        <ToggleButton   ToolTip="Canister1" Style="{DynamicResource ToggleButtonSelectStyle}" Width="60" Canvas.Left="583" Canvas.Top="101">
                            <i:Interaction.Triggers>
                                <i:EventTrigger EventName="Checked">
                                    <i:InvokeCommandAction Command="{Binding TestCMD}" CommandParameter="2:1"/>
                                </i:EventTrigger>
                                <i:EventTrigger EventName="Unchecked">
                                    <i:InvokeCommandAction Command="{Binding TestCMD}" CommandParameter="2:0"/>
                                </i:EventTrigger>
                            </i:Interaction.Triggers>
                        </ToggleButton>
                        <ToggleButton ToolTip="Canister2" Style="{DynamicResource ToggleButtonSelectStyle}" Width="60" Canvas.Left="679" Canvas.Top="101">
                            <i:Interaction.Triggers>
                                <i:EventTrigger EventName="Checked">
                                    <i:InvokeCommandAction Command="{Binding TestCMD}" CommandParameter="3:1"/>
                                </i:EventTrigger>
                                <i:EventTrigger EventName="Unchecked">
                                    <i:InvokeCommandAction Command="{Binding TestCMD}" CommandParameter="3:0"/>
                                </i:EventTrigger>
                            </i:Interaction.Triggers>
                        </ToggleButton>
                        <ToggleButton ToolTip="Canister3" Style="{DynamicResource ToggleButtonSelectStyle}" Width="60" Canvas.Left="766" Canvas.Top="101">
                            <i:Interaction.Triggers>
                                <i:EventTrigger EventName="Checked">
                                    <i:InvokeCommandAction Command="{Binding TestCMD}" CommandParameter="4:1"/>
                                </i:EventTrigger>
                                <i:EventTrigger EventName="Unchecked">
                                    <i:InvokeCommandAction Command="{Binding TestCMD}" CommandParameter="4:0"/>
                                </i:EventTrigger>
                            </i:Interaction.Triggers>
                        </ToggleButton>
                        <ToggleButton ToolTip="Canister4" Style="{DynamicResource ToggleButtonSelectStyle}" Width="60" Canvas.Left="853" Canvas.Top="101">
                            <i:Interaction.Triggers>
                                <i:EventTrigger EventName="Checked">
                                    <i:InvokeCommandAction Command="{Binding TestCMD}" CommandParameter="19:1"/>
                                </i:EventTrigger>
                                <i:EventTrigger EventName="Unchecked">
                                    <i:InvokeCommandAction Command="{Binding TestCMD}" CommandParameter="19:0"/>
                                </i:EventTrigger>
                            </i:Interaction.Triggers>
                        </ToggleButton>
                        <ToggleButton ToolTip="LED" Style="{DynamicResource ToggleButtonSelectStyle}" Width="60" Canvas.Left="180" Canvas.Top="125">
                            <i:Interaction.Triggers>
                                <i:EventTrigger EventName="Checked">
                                    <i:InvokeCommandAction Command="{Binding TestCMD}" CommandParameter="20:1"/>
                                </i:EventTrigger>
                                <i:EventTrigger EventName="Unchecked">
                                    <i:InvokeCommandAction Command="{Binding TestCMD}" CommandParameter="20:0"/>
                                </i:EventTrigger>
                            </i:Interaction.Triggers>
                        </ToggleButton>
                        <ToggleButton ToolTip="BeanHopper" Style="{DynamicResource ToggleButtonSelectStyle}" Width="60" Canvas.Left="492" Canvas.Top="69">
                            <i:Interaction.Triggers>
                                <i:EventTrigger EventName="Checked">
                                    <i:InvokeCommandAction Command="{Binding TestCMD}" CommandParameter="21:1"/>
                                </i:EventTrigger>
                                <i:EventTrigger EventName="Unchecked">
                                    <i:InvokeCommandAction Command="{Binding TestCMD}" CommandParameter="21:0"/>
                                </i:EventTrigger>
                            </i:Interaction.Triggers>
                        </ToggleButton>
                        <ToggleButton ToolTip="Grinder" Style="{DynamicResource ToggleButtonSelectStyle}" Width="60" Canvas.Left="492" Canvas.Top="143">
                            <i:Interaction.Triggers>
                                <i:EventTrigger EventName="Checked">
                                    <i:InvokeCommandAction Command="{Binding TestCMD}" CommandParameter="1:1"/>
                                </i:EventTrigger>
                                <i:EventTrigger EventName="Unchecked">
                                    <i:InvokeCommandAction Command="{Binding TestCMD}" CommandParameter="1:0"/>
                                </i:EventTrigger>
                            </i:Interaction.Triggers>
                        </ToggleButton>

                        <ToggleButton ToolTip="Mixer1 Valve" Style="{DynamicResource ToggleButtonSelectStyle}" Width="60" Canvas.Left="473" Canvas.Top="403">
                            <i:Interaction.Triggers>
                                <i:EventTrigger EventName="Checked">
                                    <i:InvokeCommandAction Command="{Binding TestCMD}" CommandParameter="5:1"/>
                                </i:EventTrigger>
                                <i:EventTrigger EventName="Unchecked">
                                    <i:InvokeCommandAction Command="{Binding TestCMD}" CommandParameter="5:0"/>
                                </i:EventTrigger>
                            </i:Interaction.Triggers>
                        </ToggleButton>
                        <ToggleButton ToolTip="Brew Valve" Style="{DynamicResource ToggleButtonSelectStyle}" Width="60" Canvas.Left="583" Canvas.Top="403">
                            <i:Interaction.Triggers>
                                <i:EventTrigger EventName="Checked">
                                    <i:InvokeCommandAction Command="{Binding TestCMD}" CommandParameter="14:1"/>
                                </i:EventTrigger>
                                <i:EventTrigger EventName="Unchecked">
                                    <i:InvokeCommandAction Command="{Binding TestCMD}" CommandParameter="14:0"/>
                                </i:EventTrigger>
                            </i:Interaction.Triggers>
                        </ToggleButton>
                        <ToggleButton ToolTip="Mixer2 Valve" Style="{DynamicResource ToggleButtonSelectStyle}" Width="60" Canvas.Left="692" Canvas.Top="403">
                            <i:Interaction.Triggers>
                                <i:EventTrigger EventName="Checked">
                                    <i:InvokeCommandAction Command="{Binding TestCMD}" CommandParameter="6:1"/>
                                </i:EventTrigger>
                                <i:EventTrigger EventName="Unchecked">
                                    <i:InvokeCommandAction Command="{Binding TestCMD}" CommandParameter="6:0"/>
                                </i:EventTrigger>
                            </i:Interaction.Triggers>
                        </ToggleButton>
                        <ToggleButton ToolTip="Tea Water Valve" Style="{DynamicResource ToggleButtonSelectStyle}" Width="60" Canvas.Left="807" Canvas.Top="403">
                            <i:Interaction.Triggers>
                                <i:EventTrigger EventName="Checked">
                                    <i:InvokeCommandAction Command="{Binding TestCMD}" CommandParameter="13:1"/>
                                </i:EventTrigger>
                                <i:EventTrigger EventName="Unchecked">
                                    <i:InvokeCommandAction Command="{Binding TestCMD}" CommandParameter="13:0"/>
                                </i:EventTrigger>
                            </i:Interaction.Triggers>
                        </ToggleButton>

                        <ToggleButton ToolTip="Mixer cold Valve" Style="{DynamicResource ToggleButtonSelectStyle}" Width="60" Canvas.Left="530" Canvas.Top="446">
                            <i:Interaction.Triggers>
                                <i:EventTrigger EventName="Checked">
                                    <i:InvokeCommandAction Command="{Binding TestCMD}" CommandParameter="17:1"/>
                                </i:EventTrigger>
                                <i:EventTrigger EventName="Unchecked">
                                    <i:InvokeCommandAction Command="{Binding TestCMD}" CommandParameter="17:0"/>
                                </i:EventTrigger>
                            </i:Interaction.Triggers>
                        </ToggleButton>
                        <ToggleButton ToolTip="Hot Water inlet Valve" Style="{DynamicResource ToggleButtonSelectStyle}" Width="60" Canvas.Left="70" Canvas.Top="438">
                            <i:Interaction.Triggers>
                                <i:EventTrigger EventName="Checked">
                                    <i:InvokeCommandAction Command="{Binding TestCMD}" CommandParameter="11:1"/>
                                </i:EventTrigger>
                                <i:EventTrigger EventName="Unchecked">
                                    <i:InvokeCommandAction Command="{Binding TestCMD}" CommandParameter="11:0"/>
                                </i:EventTrigger>
                            </i:Interaction.Triggers>
                        </ToggleButton>
                        <ToggleButton ToolTip="Cold Water inlet Valve" Style="{DynamicResource ToggleButtonSelectStyle}" Width="60" Canvas.Left="178" Canvas.Top="512">
                            <i:Interaction.Triggers>
                                <i:EventTrigger EventName="Checked">
                                    <i:InvokeCommandAction Command="{Binding TestCMD}" CommandParameter="12:1"/>
                                </i:EventTrigger>
                                <i:EventTrigger EventName="Unchecked">
                                    <i:InvokeCommandAction Command="{Binding TestCMD}" CommandParameter="12:0"/>
                                </i:EventTrigger>
                            </i:Interaction.Triggers>
                        </ToggleButton>
                        <ToggleButton ToolTip="Mixer2 wipper" Style="{DynamicResource ToggleButtonSelectStyle}" Width="60" Canvas.Left="694" Canvas.Top="575">
                            <i:Interaction.Triggers>
                                <i:EventTrigger EventName="Checked">
                                    <i:InvokeCommandAction Command="{Binding TestCMD}" CommandParameter="8:1"/>
                                </i:EventTrigger>
                                <i:EventTrigger EventName="Unchecked">
                                    <i:InvokeCommandAction Command="{Binding TestCMD}" CommandParameter="8:0"/>
                                </i:EventTrigger>
                            </i:Interaction.Triggers>
                        </ToggleButton>
                        <ToggleButton ToolTip="Mixer1 wipper" Style="{DynamicResource ToggleButtonSelectStyle}" Width="60" Canvas.Left="468" Canvas.Top="575">
                            <i:Interaction.Triggers>
                                <i:EventTrigger EventName="Checked">
                                    <i:InvokeCommandAction Command="{Binding TestCMD}" CommandParameter="7:1"/>
                                </i:EventTrigger>
                                <i:EventTrigger EventName="Unchecked">
                                    <i:InvokeCommandAction Command="{Binding TestCMD}" CommandParameter="7:0"/>
                                </i:EventTrigger>
                            </i:Interaction.Triggers>
                        </ToggleButton>
                        <ToggleButton ToolTip="Brewer Motor" Style="{DynamicResource ToggleButtonSelectStyle}" Width="60" Canvas.Left="583" Canvas.Top="585">
                            <i:Interaction.Triggers>
                                <i:EventTrigger EventName="Checked">
                                    <i:InvokeCommandAction Command="{Binding TestCMD}" CommandParameter="9:1"/>
                                </i:EventTrigger>
                                <i:EventTrigger EventName="Unchecked">
                                    <i:InvokeCommandAction Command="{Binding TestCMD}" CommandParameter="9:0"/>
                                </i:EventTrigger>
                            </i:Interaction.Triggers>
                        </ToggleButton>
                        <ToggleButton ToolTip="Fan" Style="{DynamicResource ToggleButtonSelectStyle}" Width="60" Canvas.Left="66" Canvas.Top="617">
                            <i:Interaction.Triggers>
                                <i:EventTrigger EventName="Checked">
                                    <i:InvokeCommandAction Command="{Binding TestCMD}" CommandParameter="10:1"/>
                                </i:EventTrigger>
                                <i:EventTrigger EventName="Unchecked">
                                    <i:InvokeCommandAction Command="{Binding TestCMD}" CommandParameter="10:0"/>
                                </i:EventTrigger>
                            </i:Interaction.Triggers>
                        </ToggleButton>
                        <ToggleButton ToolTip="Carbonic" Style="{DynamicResource ToggleButtonSelectStyle}" Width="60" Canvas.Left="199" Canvas.Top="661">
                            <i:Interaction.Triggers>
                                <i:EventTrigger EventName="Checked">
                                    <i:InvokeCommandAction Command="{Binding TestCMD}" CommandParameter="16:1"/>
                                </i:EventTrigger>
                                <i:EventTrigger EventName="Unchecked">
                                    <i:InvokeCommandAction Command="{Binding TestCMD}" CommandParameter="16:0"/>
                                </i:EventTrigger>
                            </i:Interaction.Triggers>
                        </ToggleButton>
                        <ToggleButton ToolTip="Still" Style="{DynamicResource ToggleButtonSelectStyle}" Width="60" Canvas.Left="324" Canvas.Top="661">
                            <i:Interaction.Triggers>
                                <i:EventTrigger EventName="Checked">
                                    <i:InvokeCommandAction Command="{Binding TestCMD}" CommandParameter="15:1"/>
                                </i:EventTrigger>
                                <i:EventTrigger EventName="Unchecked">
                                    <i:InvokeCommandAction Command="{Binding TestCMD}" CommandParameter="15:0"/>
                                </i:EventTrigger>
                            </i:Interaction.Triggers>
                        </ToggleButton>


                    </Canvas>
                </Grid>
                <!--calibration function-->
                <Grid  Margin="20,0,0,0" Grid.Row="1" Grid.Column="1" Grid.RowSpan="2" Name="grd_calibration" Visibility="{Binding _UiData.is_calibration_visible, ConverterParameter=Disabled, Converter={StaticResource BoolToVisibilityConverter}, Mode=TwoWay}" d:IsHidden="True" d:IsLocked="True">
                    <Grid>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="1*"/>
                            <RowDefinition Height="10*"/>
                        </Grid.RowDefinitions>
                        <Border Grid.Row="0" BorderBrush="Gray" BorderThickness="3">
                            <TextBlock Text="Calibration" HorizontalAlignment="Center" VerticalAlignment="Center" FontSize="28"/>
                        </Border>
                        <Border Grid.Row="1" BorderBrush="Gray" BorderThickness="3">
                            <Grid>
                                <TreeView>
                                    <TreeView.Resources>
                                        <Style x:Key="TreeViewItemStyleC" TargetType="{x:Type TreeViewItem}">
                                            <Setter Property="Template">
                                                <Setter.Value>
                                                    <ControlTemplate TargetType="{x:Type TreeViewItem}">
                                                        <Grid Background="WhiteSmoke">
                                                            <Border BorderBrush="Silver" BorderThickness="3" Height="1" VerticalAlignment="Top"></Border>
                                                            <TextBlock  Text="{TemplateBinding Header}" VerticalAlignment="Center" Margin="50,10" />
                                                            <Button Tag="{TemplateBinding Tag}" Click="Test_Click" Margin="200,5" Content=" Calibration " HorizontalAlignment="Right" VerticalAlignment="Center" />
                                                        </Grid>
                                                    </ControlTemplate>
                                                </Setter.Value>
                                            </Setter>
                                        </Style>

                                    </TreeView.Resources>
                                    <TreeViewItem Header="WaterTank" FontSize="32" Background="Gray" Margin="10,10" >
                                        <TreeViewItem FontSize="24" Tag="133" Header="Hot Water Value"    Style="{DynamicResource TreeViewItemStyleC}"/>
                                        <TreeViewItem FontSize="24" Tag="129" Header="Mixer1 Water Value" Style="{DynamicResource TreeViewItemStyleC}"/>
                                        <TreeViewItem FontSize="24" Tag="130" Header="Mixer2 Water Value" Style="{DynamicResource TreeViewItemStyleC}"/>
                                        <TreeViewItem FontSize="24" Tag="131" Header="Mixer cold Water Value" Style="{DynamicResource TreeViewItemStyleC}"/>
                                        <TreeViewItem FontSize="24" Tag="132" Header="cold Water Value" Style="{DynamicResource TreeViewItemStyleC}"/>
                                        <TreeViewItem FontSize="24" Tag="134" Header="Carbon Water Value" Style="{DynamicResource TreeViewItemStyleC}"/>
                                        <TreeViewItem FontSize="24" Tag="128" Header="Brew Hot Water Value" Style="{DynamicResource TreeViewItemStyleC}"/>
                                        <TreeViewItem FontSize="24" Tag="141" Header="Water Temperature" Style="{DynamicResource TreeViewItemStyleC}"/>
                                    </TreeViewItem>
                                    <TreeViewItem Header="Canisters" FontSize="32" Background="Gray" Margin="10,10">
                                        <TreeViewItem FontSize="24" Tag="135" Header="Grinder Coffee"    Style="{DynamicResource TreeViewItemStyleC}"/>
                                        <TreeViewItem FontSize="24" Tag="138" Header="Instant Canister1" Style="{DynamicResource TreeViewItemStyleC}"/>
                                        <TreeViewItem FontSize="24" Tag="139" Header="Instant Canister2" Style="{DynamicResource TreeViewItemStyleC}"/>
                                        <TreeViewItem FontSize="24" Tag="140" Header="Instant Canister3" Style="{DynamicResource TreeViewItemStyleC}"/>
                                    </TreeViewItem>
                                    <TreeViewItem Header="Brew" FontSize="32" Background="Gray" Margin="10,10">
                                        <TreeViewItem FontSize="24" Tag="142" Header="Brew RunTime"   Style="{DynamicResource TreeViewItemStyleC}"/>
                                    </TreeViewItem>
                                </TreeView>
                            </Grid>
                        </Border>
                        <Grid Grid.Row="1" Name="grd_test" d:IsHidden="True">
                            <Grid Background="Black" Opacity="0.4"></Grid>
                            <Grid Margin="100,120">
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="1*"/>
                                    <RowDefinition Height="2*"/>
                                    <RowDefinition Height="1*"/>
                                </Grid.RowDefinitions>
                                <Border BorderBrush="WhiteSmoke" BorderThickness="3" Background="WhiteSmoke" Grid.Row="1">
                                    <Grid>
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="1*"/>
                                            <ColumnDefinition Width="2*"/>
                                        </Grid.ColumnDefinitions>
                                        <Border BorderBrush="Gray" BorderThickness="3">
                                            <TextBlock FontSize="24" Text="Please Enter the Calibration Value you want to do" HorizontalAlignment="Center" VerticalAlignment="Center" TextWrapping="Wrap"></TextBlock>
                                        </Border>
                                        <extToolkit:DoubleUpDown  Name="CalInport" Grid.Column="1" Margin="80,40" FontSize="24"></extToolkit:DoubleUpDown>
                                    </Grid>
                                </Border>
                                <Border BorderBrush="WhiteSmoke" BorderThickness="3" Background="Orange" Grid.Row="2">
                                    <Grid>
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="1*"/>
                                            <ColumnDefinition Width="1*"/>
                                        </Grid.ColumnDefinitions>
                                        <Button Grid.Column="0" Margin="50,10" Content="OK" FontSize="24" Click="Button_Click"></Button>
                                        <Button Grid.Column="1" Margin="50,10" Content="Cancel" FontSize="24" Click="Button_Click_1"></Button>
                                    </Grid>
                                </Border>
                                <Border Grid.Row="0" BorderBrush="WhiteSmoke" BorderThickness="3" Background="Orange">
                                    <TextBlock Foreground="White"  HorizontalAlignment="Center" VerticalAlignment="Center" x:Name="tb_title" FontSize="36" Text="Test"/>
                                </Border>
                            </Grid>

                        </Grid>
                        <Grid Grid.Row="1" Name="grd_cal" d:IsHidden="True">
                            <Grid Background="Black" Opacity="0.4"></Grid>
                            <Grid Margin="100,120">
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="1*"/>
                                    <RowDefinition Height="2*"/>
                                    <RowDefinition Height="1*"/>
                                </Grid.RowDefinitions>
                                <Border BorderBrush="WhiteSmoke" BorderThickness="3" Background="Orange">
                                    <TextBlock Foreground="White" Grid.Row="0" HorizontalAlignment="Center" VerticalAlignment="Center" Name="tb_title_cal" FontSize="36" Text="Test"></TextBlock>
                                </Border>
                                <Border BorderBrush="WhiteSmoke" BorderThickness="3" Background="WhiteSmoke" Grid.Row="1">
                                    <Grid>
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="1*"/>
                                            <ColumnDefinition Width="2*"/>
                                        </Grid.ColumnDefinitions>
                                        <Border BorderBrush="Gray" BorderThickness="3">
                                            <TextBlock FontSize="24" Text="Please Enter the Calibration Value you measured！" HorizontalAlignment="Center" VerticalAlignment="Center" TextWrapping="Wrap"></TextBlock>
                                        </Border>
                                        <extToolkit:DoubleUpDown  Name="CalInport1" Grid.Column="1" Margin="80,40" FontSize="24"></extToolkit:DoubleUpDown>
                                    </Grid>
                                </Border>
                                <Border BorderBrush="WhiteSmoke" BorderThickness="3" Background="Orange" Grid.Row="2">
                                    <Grid>
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="1*"/>
                                            <ColumnDefinition Width="1*"/>
                                        </Grid.ColumnDefinitions>
                                        <Button Grid.Column="0" Margin="50,10" Content="OK" FontSize="24" Click="Cal_Button_Click"></Button>
                                        <Button Grid.Column="1" Margin="50,10" Content="Cancel" FontSize="24" Click="Button_Click_1"></Button>
                                    </Grid>
                                </Border>
                            </Grid>
                        </Grid>
                        <Grid Grid.Row="1" Name="grd_Process" Background="Transparent" d:IsHidden="True">
                            <Grid Background="Black" Margin="20,120" Opacity="0.4">
                                <Grid Margin="250,20" >
                                    <ProgressBar Minimum="0" Name="pbar"
                     Maximum="150"
                     >
                                        <ProgressBar.Template>
                                            <ControlTemplate TargetType="ProgressBar">
                                                <Border Background="{TemplateBinding Value, Converter={StaticResource ValueToProcessConverter}, ConverterParameter=100}"/>
                                            </ControlTemplate>
                                        </ProgressBar.Template>
                                    </ProgressBar>
                                </Grid>
                            </Grid>

                        </Grid>
                        <Grid Grid.Row="1" Name="grd_test_temp" d:IsHidden="True">
                            <Grid Background="Black" Opacity="0.4"></Grid>
                            <Grid Margin="100,120">
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="1*"/>
                                    <RowDefinition Height="2*"/>
                                    <RowDefinition Height="1*"/>
                                </Grid.RowDefinitions>
                                <Border BorderBrush="WhiteSmoke" BorderThickness="3" Background="Orange">
                                    <TextBlock Foreground="White" Grid.Row="0" HorizontalAlignment="Center" VerticalAlignment="Center" Name="tb_title1" FontSize="36" Text="Test"></TextBlock>
                                </Border>
                                <Border BorderBrush="WhiteSmoke" BorderThickness="3" Background="WhiteSmoke" Grid.Row="1">
                                    <Grid>
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="1*"/>
                                            <ColumnDefinition Width="1.5*"/>
                                        </Grid.ColumnDefinitions>
                                        <Border BorderBrush="Gray" BorderThickness="3" Grid.Column="0">
                                            <TextBlock FontSize="24" Text="Please Mesure the Water Tank Temperature,fill in the Actual Value" HorizontalAlignment="Center" VerticalAlignment="Center" TextWrapping="Wrap"></TextBlock>
                                        </Border>
                                        <Grid Grid.Column="1">
                                            <Grid.RowDefinitions>
                                                <RowDefinition/>
                                                <RowDefinition/>
                                            </Grid.RowDefinitions>
                                            <Border BorderBrush="Gray" BorderThickness="2">
                                                <TextBlock Name="tb_crt_temp" Text="80" HorizontalAlignment="Center" VerticalAlignment="Center" FontSize="28"></TextBlock>
                                            </Border>
                                            <Border BorderBrush="Gray" BorderThickness="2" Grid.Row="1">
                                                <extToolkit:DecimalUpDown Name="water_temp" Value="0" Margin="60,10" Minimum="0" Maximum="100" FontSize="28"></extToolkit:DecimalUpDown>
                                            </Border>
                                        </Grid>
                                    </Grid>
                                </Border>
                                <Border BorderBrush="WhiteSmoke" BorderThickness="3" Background="Orange" Grid.Row="2">
                                    <Grid>
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="1*"/>
                                            <ColumnDefinition Width="1*"/>
                                        </Grid.ColumnDefinitions>
                                        <Button Grid.Column="0" Margin="50,10" Content="Calibration" FontSize="24" Click="temp_Cal"></Button>
                                        <Button Grid.Column="1" Margin="50,10" Content="Close" FontSize="24" Click="Button_Click_1"></Button>
                                    </Grid>
                                </Border>
                            </Grid>
                        </Grid>
                        <Grid Grid.Row="1" Name="grd_test_brew" d:IsHidden="True">
                            <Grid Background="Black" Opacity="0.4"></Grid>
                            <Grid Margin="100,120">
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="1*"/>
                                    <RowDefinition Height="2*"/>
                                    <RowDefinition Height="1*"/>
                                </Grid.RowDefinitions>
                                <Border BorderBrush="WhiteSmoke" BorderThickness="3" Background="Orange">
                                    <TextBlock Name="tb_brew" Foreground="White" Grid.Row="0" HorizontalAlignment="Center" VerticalAlignment="Center"  FontSize="36" Text="Brew Calibration"></TextBlock>
                                </Border>
                                <Border BorderBrush="WhiteSmoke" BorderThickness="3" Background="WhiteSmoke" Grid.Row="1">
                                    <Grid>
                                        <Border BorderBrush="Gray" BorderThickness="3" Grid.Column="0">
                                            <TextBlock FontSize="24" Text="Please press the start button to start brew calibration,the brew will be run one cycle." HorizontalAlignment="Center" VerticalAlignment="Center" TextWrapping="Wrap"></TextBlock>
                                        </Border>
                                        <Grid Grid.Column="1">
                                            <Grid.RowDefinitions>
                                                <RowDefinition/>
                                                <RowDefinition/>
                                            </Grid.RowDefinitions>

                                        </Grid>
                                    </Grid>
                                </Border>
                                <Border BorderBrush="WhiteSmoke" BorderThickness="3" Background="Orange" Grid.Row="2">
                                    <Grid>
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="1*"/>
                                            <ColumnDefinition Width="1*"/>
                                        </Grid.ColumnDefinitions>
                                        <Button Grid.Column="0" Margin="50,10" Content="Satrt" FontSize="24" Click="brew_Cal"></Button>
                                        <Button Grid.Column="1" Margin="50,10" Content="Close" FontSize="24" Click="Button_Click_1"></Button>
                                    </Grid>
                                </Border>
                            </Grid>
                        </Grid>
                    </Grid>
                </Grid>
            </Grid>
            <Grid Name="evo_rcpSystem" Visibility="{Binding _UiData.is_Recipe_visible, ConverterParameter=Disabled, Converter={StaticResource BoolToVisibilityConverter}, Mode=TwoWay}" d:IsHidden="True" d:IsLocked="True" >
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="1*"/>
                    <ColumnDefinition Width="5*"/>
                </Grid.ColumnDefinitions>
                <Grid.RowDefinitions>
                    <RowDefinition Height="80*"/>
                    <RowDefinition Height="617*"/>
                    <RowDefinition Height="95*"/>
                </Grid.RowDefinitions>
                <Border Background="#FF1E5D8F">
                    <TextBlock Text="{Binding _CrtEVOMachine.Name}" Foreground="White" TextAlignment="Center" HorizontalAlignment="Stretch" VerticalAlignment="Center" FontSize="28" FontWeight="Bold"></TextBlock>
                </Border>
                <Grid Grid.Column="1">
                    <Grid.RowDefinitions>
                        <RowDefinition Height="6*"/>
                        <RowDefinition Height="1*"/>
                    </Grid.RowDefinitions>
                    <Menu HorizontalAlignment="Right" VerticalAlignment="Center" Background="Transparent" Margin="0,0,10,0">
                        <MenuItem FontSize="32" Header="File" Foreground="Black">
                            <MenuItem FontSize="32" Header="Import db File" Tag="1" Click="menu_check"/>
                            <Separator/>
                            <MenuItem FontSize="32" Header="Export db File" Tag="2" Click="menu_check"/>
                        </MenuItem>
                        <Separator/>
                        <MenuItem FontSize="32" Header="Tool" Foreground="Black">
                            <MenuItem FontSize="32" Header="ComPort Setting" Tag="3" Click="menu_check"/>
                            <Separator/>
                            <MenuItem FontSize="32" Header="Extern tools">
                                <MenuItem FontSize="32" Header="Picture Maker" Tag="5" Click="menu_check"/>
                                <Separator/>
                                <MenuItem FontSize="32" Header="USB Key Maker" Tag="6" Click="menu_check"/>
                            </MenuItem>
                            <Separator/>
                        </MenuItem>
                        <Separator/>
                        <MenuItem  Header="Help" FontSize="32"  Foreground="Black">
                            <MenuItem FontSize="32" Header="Help Doucment" Tag="7" Click="menu_check"/>
                            <Separator/>
                            <MenuItem FontSize="32" Header="About this" Tag="8" Click="menu_check"/>
                        </MenuItem>
                    </Menu>
                    <Border Grid.Row="1" Margin="20,0,0,0" Background="Black"></Border>
                </Grid>
                <Grid Grid.Row="1" Grid.RowSpan="2">
                    <StackPanel VerticalAlignment="Stretch" HorizontalAlignment="Stretch"  Background="#FF8C8F96">
                        <RadioButton Foreground="White" Command="{Binding BtnCmd}" CommandParameter="265" FontSize="36" Style="{DynamicResource ListButtonStyle}" >Ingredient</RadioButton>
                        <RadioButton Foreground="White" Command="{Binding BtnCmd}" CommandParameter="272" FontSize="36" Style="{DynamicResource ListButtonStyle}">Recipe</RadioButton>
                    </StackPanel>
                </Grid>
                <Grid Grid.Row="2" Margin="20">
                    <Button Command="{Binding BtnCmd}" CommandParameter="2" Style="{DynamicResource HomeButtonStyle}"/>
                </Grid>
                <!--Ingredient sysytem-->
                <Grid Grid.Row="1" Grid.Column="1" Grid.RowSpan="2" >
                    <Grid.RowDefinitions>
                        <RowDefinition Height="1*"/>
                        <RowDefinition Height="8*"/>
                    </Grid.RowDefinitions>
                    <!--Ingredient header-->
                    <Grid Grid.Row="0" Background="#FFB9C5D1" Margin="20,0,0,0" Visibility="{Binding _UiData.is_ingredientlist_visible, ConverterParameter=Disabled, Converter={StaticResource BoolToVisibilityConverter}, Mode=TwoWay}">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="8*"/>
                            <ColumnDefinition Width="1*"/>
                        </Grid.ColumnDefinitions>
                        <TextBlock Margin="20,0" Text="Ingredient List" FontSize="42" TextAlignment="Center" HorizontalAlignment="Left" VerticalAlignment="Center" Foreground="#FF4A6D8C" FontWeight="Bold"></TextBlock>
                        <Button Command="{Binding BtnCmd}" CommandParameter="80"  Margin="20,10" Grid.Column="1" Style="{StaticResource AddButtonStyle}"></Button>
                        <Border BorderThickness="2" BorderBrush="#cbdfe8"  Grid.ColumnSpan="2" Width="1000" HorizontalAlignment="Left" VerticalAlignment="Bottom"></Border>
                    </Grid>
                    <!--Ingredient list-->
                    <Grid Margin="20,8,0,31"  Width="{Binding ElementName=tbex, Path=ActualWidth}" Height="680" Grid.Row="1" Visibility="{Binding _UiData.is_ingredientlist_visible, ConverterParameter=Disabled, Converter={StaticResource BoolToVisibilityConverter}, Mode=TwoWay}">
                        <ListView  ItemsSource="{Binding _EvoRecipe._lstIngredientInfo}" Tag="Ingredient" SelectionChanged="ListView_SelectionChanged" VerticalAlignment="Top" SelectionMode="Single" d:IsHidden="False">
                            <i:Interaction.Triggers>
                                <i:EventTrigger EventName="MouseDoubleClick">
                                    <i:InvokeCommandAction Command="{Binding BtnCmd}" CommandParameter="264"/>
                                </i:EventTrigger>
                            </i:Interaction.Triggers>
                            <ListView.Template>
                                <ControlTemplate>
                                    <Border>
                                        <ScrollViewer VerticalScrollBarVisibility="Auto" HorizontalScrollBarVisibility="Disabled" >
                                            <ItemsPresenter />
                                        </ScrollViewer>
                                    </Border>
                                </ControlTemplate>
                            </ListView.Template>
                            <ListView.ItemsPanel>
                                <ItemsPanelTemplate>
                                    <StackPanel IsItemsHost="True"/>
                                </ItemsPanelTemplate>
                            </ListView.ItemsPanel>
                            <ListView.ItemContainerStyle>
                                <Style TargetType="{x:Type ListViewItem}">
                                    <Setter Property="IsSelected" Value="{Binding IsSelected, Mode=TwoWay}"/>
                                    <Setter Property="Template">
                                        <Setter.Value>
                                            <ControlTemplate TargetType="{x:Type ListViewItem}">
                                                <Grid>
                                                    <Grid.ColumnDefinitions>
                                                        <ColumnDefinition Width="10*"/>
                                                        <ColumnDefinition Width="1*"/>
                                                        <ColumnDefinition Width="1*"/>
                                                    </Grid.ColumnDefinitions>
                                                    <Grid Grid.ColumnSpan="3" x:Name="BD_Collector"  Background="#FFF4F5F3" Width="auto" Height="auto" >
                                                        <TextBlock Text="{Binding Name}" TextAlignment="Center" VerticalAlignment="Center" HorizontalAlignment="Left" FontSize="28" Margin="20,5" />
                                                        <Border BorderThickness="2" BorderBrush="#cbdfe8"  Grid.ColumnSpan="2" Width="1000" HorizontalAlignment="Left" VerticalAlignment="Bottom"></Border>
                                                    </Grid>
                                                    <Border Grid.Column="1" Width="40">
                                                        <Border.Background>
                                                            <ImageBrush ImageSource="Skin/arrow.png" Stretch="None"/>
                                                        </Border.Background>
                                                    </Border>
                                                    <Button Name="btndel" Grid.Column="2" Width="40" Command="{Binding DataContext.Del1CMD, RelativeSource={RelativeSource FindAncestor, AncestorType={x:Type Window}}}" CommandParameter="{Binding ID}"  Style="{DynamicResource RemoveButtonStyle}">
                                                    </Button>
                                                </Grid>
                                                <!---->
                                                <ControlTemplate.Triggers>
                                                    <Trigger Property="IsMouseOver" Value="True">
                                                        <Setter TargetName="BD_Collector" Property="Background" Value="gray" />
                                                    </Trigger>
                                                    <Trigger Property="IsSelected" Value="True">
                                                        <Setter TargetName="BD_Collector" Property="Background" Value="#FFDFEDF7" />
                                                    </Trigger>
                                                </ControlTemplate.Triggers>
                                            </ControlTemplate>
                                        </Setter.Value>
                                    </Setter>
                                </Style>
                            </ListView.ItemContainerStyle>
                        </ListView>
                    </Grid>
                    <!--Ingredient Detail-->
                                                <Grid Grid.Row="0" Grid.RowSpan="2" Margin="20,0,0,0" Visibility="{Binding _UiData.is_ingredientdetail_visible, ConverterParameter=Disabled, Converter={StaticResource BoolToVisibilityConverter}, Mode=TwoWay}">
                                                    <Grid.RowDefinitions>
                                                        <RowDefinition Height="1*"/>
                                                        <RowDefinition Height="1*"/>
                                                        <RowDefinition Height="7*"/>
                                                        <RowDefinition Height="0.6*"/>
                                                    </Grid.RowDefinitions>
                                                    <Grid Grid.Row="0" Background="#FFB9C5D1"  >
                                                        <Grid.ColumnDefinitions>
                                                            <ColumnDefinition Width="8*"/>
                                                            <ColumnDefinition Width="1*"/>
                                                        </Grid.ColumnDefinitions>
                                                        <TextBlock Margin="20,0" Text="Ingredient Information" FontSize="42" TextAlignment="Center" HorizontalAlignment="Left" VerticalAlignment="Center" Foreground="#FF4A6D8C" FontWeight="Bold"></TextBlock>
                                                        <Border BorderThickness="2" BorderBrush="#cbdfe8"  Grid.ColumnSpan="2" Width="1000" HorizontalAlignment="Left" VerticalAlignment="Bottom"></Border>
                                                    </Grid>

                                                    <!--Select ingredient Name-->
                                                    <Border Grid.Row="1" Background="#dfecf7">
                                                        <Grid>
                                                            <TextBox Margin="20,0,0,0" Text="{Binding _CrtIngredient.Name, Mode=TwoWay}" HorizontalAlignment="Left" VerticalAlignment="Center" FontSize="40" Width="300" TextAlignment="Center"></TextBox>
                                                            <Button  Command="{Binding BtnCmd}" CommandParameter="82" Content="Save" HorizontalAlignment="Right" Style="{DynamicResource SaveButtonStyle}"  VerticalAlignment="Center" FontSize="24" Margin="0,26,150,23"></Button>
                                                            <Button  Command="{Binding BtnCmd}" CommandParameter="265" HorizontalAlignment="Right" Style="{DynamicResource ReturnButtonStyle}"  VerticalAlignment="Center" FontSize="24" Margin="0,15,25,15"></Button>
                                                        </Grid>
                                                    </Border>
                                                    <Border Grid.Row="1" HorizontalAlignment="Stretch" VerticalAlignment="Bottom" BorderThickness="1" BorderBrush="#cbdfe8"></Border>
                                                    <!--Select ingredient parameter-->
                                                    <!--return & save function-->
                                                    <!--Filterbrew-->
                                                    <Grid  x:Name="FilterBrew" Grid.Row="2" Visibility="{Binding _CrtIngredient.Type, ConverterParameter=FILTERBREW, Converter={StaticResource IngredientTypeToVisibilityConverter}, Mode=TwoWay}" d:IsHidden="True">
                                                        <Grid.ColumnDefinitions>
                                                            <ColumnDefinition Width="4*"/>
                                                            <ColumnDefinition Width="1*"/>
                                                            <ColumnDefinition Width="1*"/>
                                                        </Grid.ColumnDefinitions>
                                                        <Grid.RowDefinitions>
                                                            <RowDefinition Height="1*"/>
                                                            <RowDefinition Height="1*"/>
                                                            <RowDefinition Height="1*"/>
                                                            <RowDefinition Height="1*"/>
                                                            <RowDefinition Height="1*"/>
                                                            <RowDefinition Height="1*"/>
                                                            <RowDefinition Height="1*"/>
                                                            <RowDefinition Height="1*"/>
                                                            <RowDefinition Height="1*"/>
                                                            <RowDefinition Height="1*"/>
                                                            <RowDefinition Height="1*"/>
                                                        </Grid.RowDefinitions>
                                                        <Border Grid.Row="0" Grid.ColumnSpan="3" HorizontalAlignment="Stretch" VerticalAlignment="Bottom" BorderThickness="1" BorderBrush="#cbdfe8"></Border>
                                                        <Border Grid.Row="1" Grid.ColumnSpan="3" HorizontalAlignment="Stretch" VerticalAlignment="Bottom" BorderThickness="1" BorderBrush="#cbdfe8"></Border>
                                                        <Border Grid.Row="2" Grid.ColumnSpan="3" HorizontalAlignment="Stretch" VerticalAlignment="Bottom" BorderThickness="1" BorderBrush="#cbdfe8"></Border>
                                                        <Border Grid.Row="3" Grid.ColumnSpan="3" HorizontalAlignment="Stretch" VerticalAlignment="Bottom" BorderThickness="1" BorderBrush="#cbdfe8"></Border>
                                                        <Border Grid.Row="4" Grid.ColumnSpan="3" HorizontalAlignment="Stretch" VerticalAlignment="Bottom" BorderThickness="1" BorderBrush="#cbdfe8"></Border>
                                                        <Border Grid.Row="5" Grid.ColumnSpan="3" HorizontalAlignment="Stretch" VerticalAlignment="Bottom" BorderThickness="1" BorderBrush="#cbdfe8"></Border>
                                                        <Border Grid.Row="6" Grid.ColumnSpan="3" HorizontalAlignment="Stretch" VerticalAlignment="Bottom" BorderThickness="1" BorderBrush="#cbdfe8"></Border>
                                                        <Border Grid.Row="7" Grid.ColumnSpan="3" HorizontalAlignment="Stretch" VerticalAlignment="Bottom" BorderThickness="1" BorderBrush="#cbdfe8"></Border>
                                                        <Border Grid.Row="8" Grid.ColumnSpan="3" HorizontalAlignment="Stretch" VerticalAlignment="Bottom" BorderThickness="1" BorderBrush="#cbdfe8"></Border>
                                                        <Border Grid.Row="9" Grid.ColumnSpan="3" HorizontalAlignment="Stretch" VerticalAlignment="Bottom" BorderThickness="1" BorderBrush="#cbdfe8"></Border>
                                                        <Border Grid.Row="10" Grid.ColumnSpan="3" HorizontalAlignment="Stretch" VerticalAlignment="Bottom" BorderThickness="1" BorderBrush="#cbdfe8"></Border>
                                                        <TextBlock Margin="20,0" TextAlignment="Center" HorizontalAlignment="Left" VerticalAlignment="Center" FontSize="28" Grid.Row="0" Text="Water Volume"></TextBlock>
                                                        <TextBlock Margin="20,0" TextAlignment="Center" HorizontalAlignment="Left" VerticalAlignment="Center" FontSize="28" Grid.Row="1" Text="Grinder 1 Type"></TextBlock>
                                                        <TextBlock Margin="20,0" TextAlignment="Center" HorizontalAlignment="Left" VerticalAlignment="Center" FontSize="28" Grid.Row="2" Text="Grinder 1 Amount"></TextBlock>
                                                        <TextBlock Margin="20,0" TextAlignment="Center" HorizontalAlignment="Left" VerticalAlignment="Center" FontSize="28" Grid.Row="3" Text="Grinder 2 Type"></TextBlock>
                                                        <TextBlock Margin="20,0" TextAlignment="Center" HorizontalAlignment="Left" VerticalAlignment="Center" FontSize="28" Grid.Row="4" Text="Grinder 2 Amount"></TextBlock>
                                                        <TextBlock Margin="20,0" TextAlignment="Center" HorizontalAlignment="Left" VerticalAlignment="Center" FontSize="28" Grid.Row="5" Text="Aeration"></TextBlock>
                                                        <TextBlock Margin="20,0" TextAlignment="Center" HorizontalAlignment="Left" VerticalAlignment="Center" FontSize="28" Grid.Row="6" Text="Prebrew Time"></TextBlock>
                                                        <TextBlock Margin="20,0" TextAlignment="Center" HorizontalAlignment="Left" VerticalAlignment="Center" FontSize="28" Grid.Row="7" Text="Extraction Time"></TextBlock>
                                                        <TextBlock Margin="20,0" TextAlignment="Center" HorizontalAlignment="Left" VerticalAlignment="Center" FontSize="28" Grid.Row="8" Text="Press"></TextBlock>
                                                        <TextBlock Margin="20,0" TextAlignment="Center" HorizontalAlignment="Left" VerticalAlignment="Center" FontSize="28" Grid.Row="9" Text="Decompress Time"></TextBlock>
                                                        <TextBlock Margin="20,0" TextAlignment="Center" HorizontalAlignment="Left" VerticalAlignment="Center" FontSize="28" Grid.Row="10" Text="Empty Time"></TextBlock>

                                                        <TextBlock Margin="20,0,0,0" TextAlignment="Center" HorizontalAlignment="Left" VerticalAlignment="Center" FontSize="24" Grid.Column="2" Grid.Row="0" Text="5~200 (ml)"></TextBlock>
                                                        <TextBlock Margin="20,0,0,0" TextAlignment="Center" HorizontalAlignment="Left" VerticalAlignment="Center" FontSize="24" Grid.Column="2" Grid.Row="1" Text=""></TextBlock>
                                                        <TextBlock Margin="20,0,0,0" TextAlignment="Center" HorizontalAlignment="Left" VerticalAlignment="Center" FontSize="24" Grid.Column="2" Grid.Row="2" Text="0~20 (g)"></TextBlock>
                                                        <TextBlock Margin="20,0,0,0" TextAlignment="Center" HorizontalAlignment="Left" VerticalAlignment="Center" FontSize="24" Grid.Column="2" Grid.Row="3" Text=""></TextBlock>
                                                        <TextBlock Margin="20,0,0,0" TextAlignment="Center" HorizontalAlignment="Left" VerticalAlignment="Center" FontSize="24" Grid.Column="2" Grid.Row="4" Text="0~20 (g)"></TextBlock>
                                                        <TextBlock Margin="20,0,0,0" TextAlignment="Center" HorizontalAlignment="Left" VerticalAlignment="Center" FontSize="24" Grid.Column="2" Grid.Row="5" Text="25~75 (%)"></TextBlock>
                                                        <TextBlock Margin="20,0,0,0" TextAlignment="Center" HorizontalAlignment="Left" VerticalAlignment="Center" FontSize="24" Grid.Column="2" Grid.Row="6" Text="0~20 (sec)"></TextBlock>
                                                        <TextBlock Margin="20,0,0,0" TextAlignment="Center" HorizontalAlignment="Left" VerticalAlignment="Center" FontSize="24" Grid.Column="2" Grid.Row="7" Text="0~20 (sec)"></TextBlock>
                                                        <TextBlock Margin="20,0,0,0" TextAlignment="Center" HorizontalAlignment="Left" VerticalAlignment="Center" FontSize="24" Grid.Column="2" Grid.Row="8" Text="25~75 (%)"></TextBlock>
                                                        <TextBlock Margin="20,0,0,0" TextAlignment="Center" HorizontalAlignment="Left" VerticalAlignment="Center" FontSize="24" Grid.Column="2" Grid.Row="9" Text="0~20 (sec)"></TextBlock>
                                                        <TextBlock Margin="20,0,0,0" TextAlignment="Center" HorizontalAlignment="Left" VerticalAlignment="Center" FontSize="24" Grid.Column="2" Grid.Row="10" Text="0~20 (sec)"></TextBlock>

                                                        <extToolkit:DecimalUpDown   FontSize="24" Margin="0,5" Grid.Row="0" Grid.Column="1" Value="{Binding _CrtIngredient._FilterBrew.WaterVolume, Mode=TwoWay}" Minimum="5" Maximum="200" TextAlignment="Center" HorizontalAlignment="Stretch" VerticalAlignment="Stretch"></extToolkit:DecimalUpDown>
                                                        <ComboBox x:Name="gg1" Grid.Row="1" Grid.Column="1" Margin="0,5" FontSize="24" VerticalContentAlignment="Center" HorizontalContentAlignment="Center"/>
                                                        <extToolkit:DoubleUpDown x:Name="g1"   FontSize="24" Margin="0,5" Grid.Row="2" Grid.Column="1" Value="{Binding _CrtIngredient._FilterBrew.Grind1Cnt,Converter={StaticResource MgToGgConverter}, Mode=TwoWay}" Minimum="0" Maximum="20" TextAlignment="Center" HorizontalAlignment="Stretch" Increment="0.1"></extToolkit:DoubleUpDown>
                                                        <ComboBox x:Name="gg2" Grid.Row="3" Grid.Column="1" Margin="0,5" FontSize="24" VerticalContentAlignment="Center" HorizontalContentAlignment="Center"/>
                                                        <extToolkit:DoubleUpDown x:Name="g2"   FontSize="24" Margin="0,5" Grid.Row="4" Grid.Column="1" Value="{Binding _CrtIngredient._FilterBrew.Grind2Cnt,Converter={StaticResource MgToGgConverter}, Mode=TwoWay}" Minimum="0" Maximum="20" TextAlignment="Center" HorizontalAlignment="Stretch" Increment="0.1"></extToolkit:DoubleUpDown>
                                                        <extToolkit:DecimalUpDown  FontSize="24" Margin="0,5" Grid.Row="5" Grid.Column="1" Value="{Binding _CrtIngredient._FilterBrew.ActionUpPostion, Mode=TwoWay}" Minimum="25" Maximum="75" TextAlignment="Center" HorizontalAlignment="Stretch"></extToolkit:DecimalUpDown>
                                                        <extToolkit:DoubleUpDown   FontSize="24" Margin="0,5" Grid.Row="6" Grid.Column="1" Value="{Binding _CrtIngredient._FilterBrew.Tm_Pre,Converter={StaticResource MsToSecConverter}, Mode=TwoWay}" Minimum="0" Maximum="20" TextAlignment="Center" HorizontalAlignment="Stretch" Increment="0.1"></extToolkit:DoubleUpDown>
                                                        <extToolkit:DoubleUpDown   FontSize="24" Margin="0,5" Grid.Row="7" Grid.Column="1" Value="{Binding _CrtIngredient._FilterBrew.Tm_Press,Converter={StaticResource MsToSecConverter}, Mode=TwoWay}" Minimum="0" Maximum="20" TextAlignment="Center" HorizontalAlignment="Stretch" Increment="0.1"></extToolkit:DoubleUpDown>
                                                        <extToolkit:DecimalUpDown  FontSize="24" Margin="0,5" Grid.Row="8" Grid.Column="1" Value="{Binding _CrtIngredient._FilterBrew.ActionDownPostion, Mode=TwoWay}" Minimum="25" Maximum="75" TextAlignment="Center" HorizontalAlignment="Stretch"></extToolkit:DecimalUpDown>
                                                        <extToolkit:DoubleUpDown   FontSize="24" Margin="0,5" Grid.Row="9" Grid.Column="1" Value="{Binding _CrtIngredient._FilterBrew.Tm_Depress,Converter={StaticResource MsToSecConverter}, Mode=TwoWay}" Minimum="0" Maximum="20" TextAlignment="Center" HorizontalAlignment="Stretch" Increment="0.1"></extToolkit:DoubleUpDown>
                                                        <extToolkit:DoubleUpDown   FontSize="24" Margin="0,5" Grid.Row="10" Grid.Column="1" Value="{Binding _CrtIngredient._FilterBrew.Tm_DelayOpen,Converter={StaticResource MsToSecConverter}, Mode=TwoWay}" Minimum="0" Maximum="20" TextAlignment="Center" HorizontalAlignment="Stretch" Increment="0.1"></extToolkit:DoubleUpDown>
                                                    </Grid>
                                                    <!--instant-->
                                                    <Grid x:Name="InstantPowder" Grid.Row="2" Visibility="{Binding _CrtIngredient.Type, ConverterParameter=INSTANTPOWDER, Converter={StaticResource IngredientTypeToVisibilityConverter}, Mode=TwoWay}" >
                                                        <Grid.ColumnDefinitions>
                                                            <ColumnDefinition Width="4*"/>
                                                            <ColumnDefinition Width="1*"/>
                                                            <ColumnDefinition Width="1*"/>
                                                        </Grid.ColumnDefinitions>
                                                        <Grid.RowDefinitions>
                                                            <RowDefinition Height="1*"/>
                                                            <RowDefinition Height="1*"/>
                                                            <RowDefinition Height="1*"/>
                                                            <RowDefinition Height="1*"/>
                                                            <RowDefinition Height="1*"/>
                                                            <RowDefinition Height="1*"/>
                                                            <RowDefinition Height="1*"/>
                                                            <RowDefinition Height="1*"/>
                                                            <RowDefinition Height="1*"/>
                                                            <RowDefinition Height="1*"/>
                                                            <RowDefinition Height="1*"/>
                                                        </Grid.RowDefinitions>
                                                        <Border Grid.Row="0" Grid.ColumnSpan="3" HorizontalAlignment="Stretch" VerticalAlignment="Bottom" BorderThickness="1" BorderBrush="#cbdfe8"></Border>
                                                        <Border Grid.Row="1" Grid.ColumnSpan="3" HorizontalAlignment="Stretch" VerticalAlignment="Bottom" BorderThickness="1" BorderBrush="#cbdfe8"></Border>
                                                        <Border Grid.Row="2" Grid.ColumnSpan="3" HorizontalAlignment="Stretch" VerticalAlignment="Bottom" BorderThickness="1" BorderBrush="#cbdfe8"></Border>
                                                        <Border Grid.Row="3" Grid.ColumnSpan="3" HorizontalAlignment="Stretch" VerticalAlignment="Bottom" BorderThickness="1" BorderBrush="#cbdfe8"></Border>
                                                        <Border Grid.Row="4" Grid.ColumnSpan="3" HorizontalAlignment="Stretch" VerticalAlignment="Bottom" BorderThickness="1" BorderBrush="#cbdfe8"></Border>
                                                        <Border Grid.Row="5" Grid.ColumnSpan="3" HorizontalAlignment="Stretch" VerticalAlignment="Bottom" BorderThickness="1" BorderBrush="#cbdfe8"></Border>
                                                        <Border Grid.Row="6" Grid.ColumnSpan="3" HorizontalAlignment="Stretch" VerticalAlignment="Bottom" BorderThickness="1" BorderBrush="#cbdfe8"></Border>
                                                        <Border Grid.Row="7" Grid.ColumnSpan="3" HorizontalAlignment="Stretch" VerticalAlignment="Bottom" BorderThickness="1" BorderBrush="#cbdfe8"></Border>
                                                        <Border Grid.Row="8" Grid.ColumnSpan="3" HorizontalAlignment="Stretch" VerticalAlignment="Bottom" BorderThickness="1" BorderBrush="#cbdfe8"></Border>
                                                        <Border Grid.Row="9" Grid.ColumnSpan="3" HorizontalAlignment="Stretch" VerticalAlignment="Bottom" BorderThickness="1" BorderBrush="#cbdfe8"></Border>
                                                        <Border Grid.Row="10" Grid.ColumnSpan="3" HorizontalAlignment="Stretch" VerticalAlignment="Bottom" BorderThickness="1" BorderBrush="#cbdfe8"></Border>
                                                        <TextBlock Margin="20,0" TextAlignment="Center" HorizontalAlignment="Left" VerticalAlignment="Center" FontSize="28" Grid.Row="0" Text="Water Volume"></TextBlock>
                                                        <TextBlock Margin="20,0" TextAlignment="Center" HorizontalAlignment="Left" VerticalAlignment="Center" FontSize="28" Grid.Row="1" Text="Package 1 Type"></TextBlock>
                                                        <TextBlock Margin="20,0" TextAlignment="Center" HorizontalAlignment="Left" VerticalAlignment="Center" FontSize="28" Grid.Row="2" Text="Package 1 Amount"></TextBlock>
                                                        <TextBlock Margin="20,0" TextAlignment="Center" HorizontalAlignment="Left" VerticalAlignment="Center" FontSize="28" Grid.Row="3" Text="Package 2 Type"></TextBlock>
                                                        <TextBlock Margin="20,0" TextAlignment="Center" HorizontalAlignment="Left" VerticalAlignment="Center" FontSize="28" Grid.Row="4" Text="Package 2 Amount"></TextBlock>
                                                        <TextBlock Margin="20,0" TextAlignment="Center" HorizontalAlignment="Left" VerticalAlignment="Center" FontSize="28" Grid.Row="5" Text="Wipper Speed"></TextBlock>
                                                        <TextBlock Margin="20,0" TextAlignment="Center" HorizontalAlignment="Left" VerticalAlignment="Center" FontSize="28" Grid.Row="6" Text="Preflush Volume"></TextBlock>
                                                        <TextBlock Margin="20,0" TextAlignment="Center" HorizontalAlignment="Left" VerticalAlignment="Center" FontSize="28" Grid.Row="7" Text="Preflush pause time"></TextBlock>
                                                        <TextBlock Margin="20,0" TextAlignment="Center" HorizontalAlignment="Left" VerticalAlignment="Center" FontSize="28" Grid.Row="8" Text="Postflush pasue time"></TextBlock>

                                                        <TextBlock Margin="20,0" TextAlignment="Center" HorizontalAlignment="Left" VerticalAlignment="Center" FontSize="28" Grid.Row="9" Text="Postflush Volume"></TextBlock>
                                                        <TextBlock Margin="20,0" TextAlignment="Center" HorizontalAlignment="Left" VerticalAlignment="Center" FontSize="28" Grid.Row="10" Text="Water type"></TextBlock>
                                                        <TextBlock Margin="20,0,0,0" TextAlignment="Center" HorizontalAlignment="Left" VerticalAlignment="Center" FontSize="24" Grid.Column="2" Grid.Row="0" Text="5~200 (ml)"></TextBlock>
                                                        <TextBlock Margin="20,0,0,0" TextAlignment="Center" HorizontalAlignment="Left" VerticalAlignment="Center" FontSize="24" Grid.Column="2" Grid.Row="1" Text=""></TextBlock>
                                                        <TextBlock Margin="20,0,0,0" TextAlignment="Center" HorizontalAlignment="Left" VerticalAlignment="Center" FontSize="24" Grid.Column="2" Grid.Row="2" Text="0~30 (g)"></TextBlock>
                                                        <TextBlock Margin="20,0,0,0" TextAlignment="Center" HorizontalAlignment="Left" VerticalAlignment="Center" FontSize="24" Grid.Column="2" Grid.Row="3" Text=""></TextBlock>
                                                        <TextBlock Margin="20,0,0,0" TextAlignment="Center" HorizontalAlignment="Left" VerticalAlignment="Center" FontSize="24" Grid.Column="2" Grid.Row="4" Text="0~30 (g)"></TextBlock>
                                                        <TextBlock Margin="20,0,0,0" TextAlignment="Center" HorizontalAlignment="Left" VerticalAlignment="Center" FontSize="24" Grid.Column="2" Grid.Row="5" Text="0~100 (%)"></TextBlock>
                                                        <TextBlock Margin="20,0,0,0" TextAlignment="Center" HorizontalAlignment="Left" VerticalAlignment="Center" FontSize="24" Grid.Column="2" Grid.Row="6" Text="1~15 (ml)"></TextBlock>
                                                        <TextBlock Margin="20,0,0,0" TextAlignment="Center" HorizontalAlignment="Left" VerticalAlignment="Center" FontSize="24" Grid.Column="2" Grid.Row="9" Text="1~15 (ml)"></TextBlock>
                                                        <TextBlock Margin="20,0,0,0" TextAlignment="Center" HorizontalAlignment="Left" VerticalAlignment="Center" FontSize="24" Grid.Column="2" Grid.Row="7" Text="0~20(sec)"></TextBlock>
                                                        <TextBlock Margin="20,0,0,0" TextAlignment="Center" HorizontalAlignment="Left" VerticalAlignment="Center" FontSize="24" Grid.Column="2" Grid.Row="8" Text="0~20(sec)"></TextBlock>

                                                        <extToolkit:DecimalUpDown   FontSize="24" Margin="0,5" Grid.Row="0" Grid.Column="1" Value="{Binding _CrtIngredient._InstantPowder.WaterVolume, Mode=TwoWay}" Minimum="5" Maximum="200" TextAlignment="Center" HorizontalAlignment="Stretch" VerticalAlignment="Stretch"></extToolkit:DecimalUpDown>
                                                        <ComboBox x:Name="cc1" SelectionChanged="PackageoneType_Change" Grid.Row="1" Grid.Column="1" Margin="0,5" FontSize="24" VerticalContentAlignment="Center" HorizontalContentAlignment="Center"/>
                                                        <extToolkit:DoubleUpDown x:Name="cc2"   FontSize="24" Margin="0,5" Grid.Row="2" Grid.Column="1" Value="{Binding _CrtIngredient._InstantPowder.PackageOneAmt,Converter={StaticResource MgToGgConverter}, Mode=TwoWay}" Minimum="0" Maximum="30" TextAlignment="Center" HorizontalAlignment="Stretch" Increment="0.1"></extToolkit:DoubleUpDown>
                                                        <ComboBox x:Name="cc3" SelectionChanged="PackagetwoType_Change" Grid.Row="3" Grid.Column="1" Margin="0,5" FontSize="24" VerticalContentAlignment="Center" HorizontalContentAlignment="Center"/>
                                                        <extToolkit:DoubleUpDown x:Name="cc4"   FontSize="24" Margin="0,5" Grid.Row="4" Grid.Column="1" Value="{Binding _CrtIngredient._InstantPowder.PackageTwoAmt,Converter={StaticResource MgToGgConverter}, Mode=TwoWay}" Minimum="0" Maximum="30" TextAlignment="Center" HorizontalAlignment="Stretch" Increment="0.1"></extToolkit:DoubleUpDown>
                                                        <extToolkit:DecimalUpDown  FontSize="24" Margin="0,5" Grid.Row="5" Grid.Column="1" Value="{Binding _CrtIngredient._InstantPowder.WhipperSpeed, Mode=TwoWay}" Minimum="0" Maximum="100" TextAlignment="Center" HorizontalAlignment="Stretch"></extToolkit:DecimalUpDown>
                                                        <extToolkit:DecimalUpDown   FontSize="24" Margin="0,5" Grid.Row="6" Grid.Column="1" Value="{Binding _CrtIngredient._InstantPowder.PreFlush, Mode=TwoWay}" Minimum="1" Maximum="15" TextAlignment="Center" HorizontalAlignment="Stretch" VerticalAlignment="Stretch"></extToolkit:DecimalUpDown>
                                                        <extToolkit:DoubleUpDown   FontSize="24" Margin="0,5" Grid.Row="7" Grid.Column="1" Value="{Binding _CrtIngredient._InstantPowder.PreFlushTm,Converter={StaticResource MsToSecConverter}, Mode=TwoWay}" Minimum="0" Maximum="20" TextAlignment="Center" HorizontalAlignment="Stretch" Increment="0.1"></extToolkit:DoubleUpDown>
                                                        <extToolkit:DoubleUpDown   FontSize="24" Margin="0,5" Grid.Row="8" Grid.Column="1" Value="{Binding _CrtIngredient._InstantPowder.PostFlushTm,Converter={StaticResource MsToSecConverter}, Mode=TwoWay}" Minimum="0" Maximum="20" TextAlignment="Center" HorizontalAlignment="Stretch" Increment="0.1"></extToolkit:DoubleUpDown>
                                                        <extToolkit:DecimalUpDown   FontSize="24" Margin="0,5" Grid.Row="9" Grid.Column="1" Value="{Binding _CrtIngredient._InstantPowder.AfterFlush, Mode=TwoWay}" Minimum="1" Maximum="15" TextAlignment="Center" HorizontalAlignment="Stretch" VerticalAlignment="Stretch"></extToolkit:DecimalUpDown>
                                                        <ComboBox  Grid.Row="10" Grid.Column="1" Margin="0,5" FontSize="24" SelectedIndex="{Binding _CrtIngredient._InstantPowder.WaterType, Mode=TwoWay}" VerticalAlignment="Stretch" HorizontalAlignment="Stretch" VerticalContentAlignment="Center" HorizontalContentAlignment="Center">
                                                            <ComboBoxItem Content="Hot Water"/>
                                                            <ComboBoxItem Content="Warm Water"/>
                                                            <ComboBoxItem Content="Cold Water"/>
                                                        </ComboBox>
                                                    </Grid>
                                                    <!--water-->
                                                    <Grid x:Name="Water" Grid.Row="2" Visibility="{Binding _CrtIngredient.Type, ConverterParameter=WATER, Converter={StaticResource IngredientTypeToVisibilityConverter}, Mode=TwoWay}" d:IsLocked="True" d:IsHidden="True">
                                                        <Grid.ColumnDefinitions>
                                                            <ColumnDefinition Width="4*"/>
                                                            <ColumnDefinition Width="1*"/>
                                                            <ColumnDefinition Width="1*"/>
                                                        </Grid.ColumnDefinitions>
                                                        <Grid.RowDefinitions>
                                                            <RowDefinition Height="1*"/>
                                                            <RowDefinition Height="1*"/>
                                                            <RowDefinition Height="1*"/>
                                                            <RowDefinition Height="1*"/>
                                                            <RowDefinition Height="1*"/>
                                                            <RowDefinition Height="1*"/>
                                                            <RowDefinition Height="1*"/>
                                                            <RowDefinition Height="1*"/>
                                                            <RowDefinition Height="1*"/>
                                                            <RowDefinition Height="1*"/>
                                                            <RowDefinition Height="1*"/>
                                                        </Grid.RowDefinitions>
                                                        <Border Grid.Row="0" Grid.ColumnSpan="3" HorizontalAlignment="Stretch" VerticalAlignment="Bottom" BorderThickness="1" BorderBrush="#cbdfe8"></Border>
                                                        <Border Grid.Row="1" Grid.ColumnSpan="3" HorizontalAlignment="Stretch" VerticalAlignment="Bottom" BorderThickness="1" BorderBrush="#cbdfe8"></Border>
                                                        <Border Grid.Row="2" Grid.ColumnSpan="3" HorizontalAlignment="Stretch" VerticalAlignment="Bottom" BorderThickness="1" BorderBrush="#cbdfe8"></Border>
                                                        <Border Grid.Row="3" Grid.ColumnSpan="3" HorizontalAlignment="Stretch" VerticalAlignment="Bottom" BorderThickness="1" BorderBrush="#cbdfe8"></Border>
                                                        <Border Grid.Row="4" Grid.ColumnSpan="3" HorizontalAlignment="Stretch" VerticalAlignment="Bottom" BorderThickness="1" BorderBrush="#cbdfe8"></Border>
                                                        <Border Grid.Row="5" Grid.ColumnSpan="3" HorizontalAlignment="Stretch" VerticalAlignment="Bottom" BorderThickness="1" BorderBrush="#cbdfe8"></Border>
                                                        <Border Grid.Row="6" Grid.ColumnSpan="3" HorizontalAlignment="Stretch" VerticalAlignment="Bottom" BorderThickness="1" BorderBrush="#cbdfe8"></Border>
                                                        <Border Grid.Row="7" Grid.ColumnSpan="3" HorizontalAlignment="Stretch" VerticalAlignment="Bottom" BorderThickness="1" BorderBrush="#cbdfe8"></Border>
                                                        <Border Grid.Row="8" Grid.ColumnSpan="3" HorizontalAlignment="Stretch" VerticalAlignment="Bottom" BorderThickness="1" BorderBrush="#cbdfe8"></Border>
                                                        <Border Grid.Row="9" Grid.ColumnSpan="3" HorizontalAlignment="Stretch" VerticalAlignment="Bottom" BorderThickness="1" BorderBrush="#cbdfe8"></Border>
                                                        <Border Grid.Row="10" Grid.ColumnSpan="3" HorizontalAlignment="Stretch" VerticalAlignment="Bottom" BorderThickness="1" BorderBrush="#cbdfe8"></Border>
                                                        <TextBlock Margin="20,0" TextAlignment="Center" HorizontalAlignment="Left" VerticalAlignment="Center" FontSize="28" Grid.Row="0" Text="Water Type"></TextBlock>
                                                        <TextBlock Margin="20,0" TextAlignment="Center" HorizontalAlignment="Left" VerticalAlignment="Center" FontSize="28" Grid.Row="1" Text="Water Volume"></TextBlock>
                                                        <TextBlock Margin="20,0,0,0" TextAlignment="Center" HorizontalAlignment="Left" VerticalAlignment="Center" FontSize="24" Grid.Column="2" Grid.Row="1" Text="5~600 (ml)"></TextBlock>
                                                        <extToolkit:DecimalUpDown   FontSize="24" Margin="0,5" Grid.Row="1" Grid.Column="1" Value="{Binding _CrtIngredient._Water.WaterVolume, Mode=TwoWay}" Minimum="5" Maximum="200" TextAlignment="Center" HorizontalAlignment="Stretch" VerticalAlignment="Stretch"></extToolkit:DecimalUpDown>
                                                        <ComboBox SelectedIndex="{Binding _CrtIngredient._Water.WaterType, Mode=TwoWay}" Margin="0,5" Grid.Row="0" Grid.Column="1"  FontSize="28" VerticalAlignment="Stretch" HorizontalAlignment="Stretch" VerticalContentAlignment="Center" HorizontalContentAlignment="Center">
                                                            <ComboBoxItem d:IsHidden="False" Content="Hot Water"/>
                                                            <ComboBoxItem d:IsHidden="False" Content="Cold Water"/>
                                                            <ComboBoxItem d:IsHidden="False" Content="Carbon Water"/>
                                                        </ComboBox>
                                                    </Grid>
                                                    <!--Cmd function-->
                                                    <Grid Grid.Row="3" Margin="0,5">
                                                        <Grid.ColumnDefinitions>
                                                            <ColumnDefinition Width="1*"/>
                                                            <ColumnDefinition Width="1*"/>
                                                            <ColumnDefinition Width="1*"/>
                                                            <ColumnDefinition Width="1*"/>
                                                        </Grid.ColumnDefinitions>
                                                        <Button Grid.Column="0" Command="{Binding ComCmd}" CommandParameter="116" Style="{DynamicResource PreviewButtonStyle}"></Button>
                                                        <Button Grid.Column="1" Command="{Binding ComCmd}" CommandParameter="115" Style="{DynamicResource ADDButtonStyle}"></Button>
                                                        <Button Grid.Column="2" Command="{Binding ComCmd}" CommandParameter="114" Style="{DynamicResource ModifyButtonStyle}"></Button>
                                                        <Button Grid.Column="3" Command="{Binding ComCmd}" CommandParameter="113" Style="{DynamicResource DeleteButtonStyle}"></Button>
                                                    </Grid>
                                                </Grid>
                    </Grid>
                    <!--recipe system-->
                    <Grid Grid.Row="1" Grid.Column="1" Grid.RowSpan="2" d:IsHidden="True" >
                        <Grid.RowDefinitions>
                            <RowDefinition Height="1*"/>
                            <RowDefinition Height="8*"/>
                        </Grid.RowDefinitions>
                        <!--Recipe header-->
                        <Grid Grid.Row="0" Background="#FFB9C5D1" Margin="20,0,0,0" Visibility="{Binding _UiData.is_recipelist_visible, ConverterParameter=Disabled, Converter={StaticResource BoolToVisibilityConverter}, Mode=TwoWay}">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="8*"/>
                                <ColumnDefinition Width="1*"/>
                            </Grid.ColumnDefinitions>
                            <TextBlock Margin="20,0" Text="Recipe List" FontSize="42" TextAlignment="Center" HorizontalAlignment="Left" VerticalAlignment="Center" Foreground="#FF4A6D8C" FontWeight="Bold"></TextBlock>
                            <Button  Command="{Binding BtnCmd}" CommandParameter="96" Margin="20,10" Grid.Column="1" Style="{StaticResource AddButtonStyle}"></Button>
                            <Border BorderThickness="2" BorderBrush="#cbdfe8"  Grid.ColumnSpan="2" Width="1000" HorizontalAlignment="Left" VerticalAlignment="Bottom"></Border>
                        </Grid>
                        <!--Recipe list-->
                        <Grid Margin="20,8,0,31"  Width="{Binding ElementName=tbex, Path=ActualWidth}" Height="680" Grid.Row="1" Visibility="{Binding _UiData.is_recipelist_visible, ConverterParameter=Disabled, Converter={StaticResource BoolToVisibilityConverter}, Mode=TwoWay}" d:IsHidden="True">
                            <ListView  ItemsSource="{Binding _EvoRecipe._lstRecipeInfo}" Tag="Recipe" SelectionChanged="ListView_SelectionChanged" VerticalAlignment="Top" SelectionMode="Single" d:IsHidden="False">
                                <i:Interaction.Triggers>
                                    <i:EventTrigger EventName="MouseDoubleClick">
                                        <i:InvokeCommandAction Command="{Binding BtnCmd}" CommandParameter="273"/>
                                    </i:EventTrigger>
                                </i:Interaction.Triggers>
                                <ListView.Template>
                                    <ControlTemplate>
                                        <Border>
                                            <ScrollViewer VerticalScrollBarVisibility="Auto" HorizontalScrollBarVisibility="Disabled" >
                                                <ItemsPresenter />
                                            </ScrollViewer>
                                        </Border>
                                    </ControlTemplate>
                                </ListView.Template>
                                <ListView.ItemsPanel>
                                    <ItemsPanelTemplate>
                                        <StackPanel IsItemsHost="True"/>
                                    </ItemsPanelTemplate>
                                </ListView.ItemsPanel>
                                <ListView.ItemContainerStyle>
                                    <Style TargetType="{x:Type ListViewItem}">
                                        <Setter Property="IsSelected" Value="{Binding IsSelected, Mode=TwoWay}"/>
                                        <Setter Property="Template">
                                            <Setter.Value>
                                                <ControlTemplate TargetType="{x:Type ListViewItem}">
                                                    <Grid>
                                                        <Grid.ColumnDefinitions>
                                                            <ColumnDefinition Width="10*"/>
                                                            <ColumnDefinition Width="1*"/>
                                                            <ColumnDefinition Width="1*"/>
                                                        </Grid.ColumnDefinitions>
                                                        <Grid Grid.ColumnSpan="3" x:Name="BD_Collector"  Background="#FFF4F5F3" Width="auto" Height="auto" >
                                                            <TextBlock Text="{Binding Name}" VerticalAlignment="Center" HorizontalAlignment="Left" FontSize="28" Margin="20,0" />
                                                            <Border BorderThickness="2" BorderBrush="#cbdfe8"  Grid.ColumnSpan="2" Width="1000" HorizontalAlignment="Left" VerticalAlignment="Bottom"></Border>
                                                        </Grid>
                                                        <Border Grid.Column="1" Width="40">
                                                            <Border.Background>
                                                                <ImageBrush ImageSource="Skin/arrow.png" Stretch="None"/>
                                                            </Border.Background>
                                                        </Border>
                                                        <Button Name="btnde2" Grid.Column="2" Width="40" Command="{Binding DataContext.Del2CMD, RelativeSource={RelativeSource FindAncestor, AncestorType={x:Type Window}}}" CommandParameter="{Binding ID}"  Style="{DynamicResource RemoveButtonStyle}">
                                                        </Button>
                                                    </Grid>
                                                    <!---->
                                                <ControlTemplate.Triggers>
                                                    <Trigger Property="IsMouseOver" Value="True">
                                                        <Setter TargetName="BD_Collector" Property="Background" Value="gray" />
                                                    </Trigger>
                                                    <Trigger Property="IsSelected" Value="True">
                                                        <Setter TargetName="BD_Collector" Property="Background" Value="#FFDFEDF7" />
                                                    </Trigger>
                                                </ControlTemplate.Triggers>
                                            </ControlTemplate>
                                        </Setter.Value>
                                    </Setter>
                                </Style>
                            </ListView.ItemContainerStyle>
                        </ListView>
                    </Grid>
                        <!--Recipe Detail-->
                                                    <Grid Grid.Row="0" Grid.RowSpan="2" Margin="20,0,0,0" Visibility="{Binding _UiData.is_recipedetail_visible, ConverterParameter=Disabled, Converter={StaticResource BoolToVisibilityConverter}, Mode=TwoWay}" d:IsHidden="True">
                                                        <Grid.RowDefinitions>
                                                            <RowDefinition Height="1*"/>
                                                            <RowDefinition Height="0.8*"/>
                                                            <RowDefinition Height="7*"/>
                                                            <RowDefinition Height="0.5*"/>
                                                        </Grid.RowDefinitions>
                                                        <Grid Grid.Row="0" Background="#FFB9C5D1"  >
                                                            <Grid.ColumnDefinitions>
                                                                <ColumnDefinition Width="8*"/>
                                                                <ColumnDefinition Width="1*"/>
                                                            </Grid.ColumnDefinitions>
                                                            <TextBlock Margin="20,0" Text="Recipe Information" FontSize="42" TextAlignment="Center" HorizontalAlignment="Left" VerticalAlignment="Center" Foreground="#FF4A6D8C" FontWeight="Bold"></TextBlock>
                                                            <Border BorderThickness="2" BorderBrush="#cbdfe8"  Grid.ColumnSpan="2" Width="1000" HorizontalAlignment="Left" VerticalAlignment="Bottom"></Border>
                                                        </Grid>
                                                        <!--Select recipe Name-->
                                                        <Border Grid.Row="1" Background="#FFDFEDF7">
                                                            <Grid>
                                                                <TextBlock Margin="20,0,0,0" Text="{Binding _CrtRecipeInfo.Name}" HorizontalAlignment="Left" VerticalAlignment="Center" FontSize="42"></TextBlock>
                                                                <Button  Command="{Binding BtnCmd}" CommandParameter="98"  Content="Save" HorizontalAlignment="Right" Style="{DynamicResource SaveButtonStyle}"  VerticalAlignment="Center" FontSize="24" Margin="0,15,150,15"></Button>
                                                                <Button  Command="{Binding BtnCmd}" CommandParameter="272" HorizontalAlignment="Right" Style="{DynamicResource ReturnButtonStyle}"  VerticalAlignment="Center" FontSize="24" Margin="0,15,25,15"></Button>

                                                            </Grid>
                                                        </Border>
                                                        <Border Grid.Row="1" HorizontalAlignment="Stretch" VerticalAlignment="Bottom" BorderThickness="1" BorderBrush="#cbdfe8"/>
                                                        <!--Select recipe parameter-->
                                                        <Grid Grid.Row="2">
                                                            <Grid.RowDefinitions>
                                                                <RowDefinition Height="2*"/>
                                                                <RowDefinition Height="1.5*"/>
                                                            </Grid.RowDefinitions>
                                                            <!--Basic setting-->
                                                            <Grid Grid.Row="0">
                                                                <Grid.ColumnDefinitions>
                                                                    <ColumnDefinition Width="1*"/>
                                                                    <ColumnDefinition Width="1*"/>
                                                                    <ColumnDefinition Width="1*"/>
                                                                    <ColumnDefinition Width="1*"/>
                                                                </Grid.ColumnDefinitions>
                                                                <Grid.RowDefinitions>
                                                                    <RowDefinition Height="1.2*"/>
                                                                    <RowDefinition Height="1*"/>
                                                                    <RowDefinition Height="1*"/>
                                                                    <RowDefinition Height="1*"/>
                                                                    <RowDefinition Height="1*"/>
                                                                    <RowDefinition Height="1*"/>
                                                                    <RowDefinition Height="1*"/>
                                                                    <RowDefinition Height="0.4*"/>

                                                                </Grid.RowDefinitions>
                                                                <!--header-->
                                                                <Border Grid.Row="0" Background="#FF8C8F96" Grid.ColumnSpan="4">
                                                                    <TextBlock Margin="20,0,0,0" Text ="Basic settings" HorizontalAlignment="Left" VerticalAlignment="Center" FontSize="28" Foreground="WhiteSmoke"></TextBlock>
                                                                </Border>
                                                                <!--item text-->
                                                                <TextBlock Margin="20,0,0,0" Grid.Row="1" Grid.Column="0" HorizontalAlignment="Left" VerticalAlignment="Center" FontSize="24" Text="Recipe name" ></TextBlock>
                                                                <TextBlock Margin="20,0,0,0" Grid.Row="2" Grid.Column="0" HorizontalAlignment="Left" VerticalAlignment="Center" FontSize="24" Text="Drink Price" ></TextBlock>
                                                                <TextBlock Margin="20,0,0,0" Grid.Row="3" Grid.Column="0" HorizontalAlignment="Left" VerticalAlignment="Center" FontSize="24" Text="Dispense Type" ></TextBlock>
                                                                <TextBlock Margin="20,0,0,0" Grid.Row="4" Grid.Column="0" HorizontalAlignment="Left" VerticalAlignment="Center" FontSize="24" Text="Brew Light" ></TextBlock>
                                                                <TextBlock Margin="20,0,0,0" Grid.Row="5" Grid.Column="0" HorizontalAlignment="Left" VerticalAlignment="Center" FontSize="24" Text="LED Setting" ></TextBlock>
                                                                <TextBlock Margin="20,0,0,0" Grid.Row="6" Grid.Column="0" HorizontalAlignment="Left" VerticalAlignment="Center" FontSize="24" Text="Intensity" ></TextBlock>
                                                                <TextBlock Margin="80,0,0,0" Grid.Row="1" Grid.Column="2" HorizontalAlignment="Left" VerticalAlignment="Center" FontSize="24" Text="Cup Sensor" ></TextBlock>
                                                                <TextBlock Margin="80,0,0,0" Grid.Row="2" Grid.Column="2" HorizontalAlignment="Left" VerticalAlignment="Center" FontSize="24" Text="Jug Option" ></TextBlock>
                                                                <TextBlock Margin="80,0,0,0" Grid.Row="3" Grid.Column="2" HorizontalAlignment="Left" VerticalAlignment="Center" FontSize="24" Text="Strength" ></TextBlock>
                                                                <TextBlock Margin="80,0,0,0" Grid.Row="4" Grid.Column="2" HorizontalAlignment="Left" VerticalAlignment="Center" FontSize="24" Text="Volume" ></TextBlock>
                                                                <TextBlock Margin="80,0,0,0" Grid.Row="5" Grid.Column="2" HorizontalAlignment="Left" VerticalAlignment="Center" FontSize="24" Text="Milk" ></TextBlock>
                                                                <TextBlock Margin="80,0,0,0" Grid.Row="6" Grid.Column="2" HorizontalAlignment="Left" VerticalAlignment="Center" FontSize="24" Text="Sugar" ></TextBlock>
                                                                <!--item selection-->
                                                                <TextBox Grid.Row="1" Grid.Column="1" Margin="5" HorizontalAlignment="Stretch" VerticalAlignment="Stretch" FontSize="24" TextAlignment="Center" Text="{Binding _CrtRecipeInfo.Name}"  />
                                                                <extToolkit:DecimalUpDown Grid.Row="2" Grid.Column="1" Margin="5" HorizontalAlignment="Stretch" VerticalAlignment="Stretch" FontSize="24" TextAlignment="Center" Value="{Binding _CrtRecipeInfo._publicInfo.price}" ></extToolkit:DecimalUpDown>
                                                                <ComboBox HorizontalContentAlignment="Center" VerticalContentAlignment="Center" Grid.Row="3" Grid.Column="1" Margin="5" HorizontalAlignment="Stretch" VerticalAlignment="Stretch" FontSize="24" Text="Select Type"  SelectedIndex="{Binding _CrtRecipeInfo._publicInfo.DispenseType, Converter={StaticResource IntToselectIndex}, Mode=TwoWay}" d:IsHidden="False">
                                                                    <ComboBoxItem Content="push and hold" d:IsHidden="False"/>
                                                                    <ComboBoxItem Content="portion" d:IsHidden="False"/>
                                                                </ComboBox>
                                                                <ComboBox  HorizontalContentAlignment="Center" VerticalContentAlignment="Center" Grid.Row="4" Grid.Column="1" Margin="5" HorizontalAlignment="Stretch" VerticalAlignment="Stretch" FontSize="24"  Text="Select Type"  SelectedIndex="{Binding _CrtRecipeInfo._publicInfo.LedColor, Converter={StaticResource IntToselectIndex}, Mode=TwoWay}" d:IsHidden="False">
                                                                    <ComboBoxItem d:IsHidden="False" >
                                                                        <Grid MinWidth="160" d:IsHidden="False">
                                                                            <Grid.ColumnDefinitions>
                                                                                <ColumnDefinition Width="1*"/>
                                                                                <ColumnDefinition Width="3*"/>
                                                                            </Grid.ColumnDefinitions>
                                                                            <Border BorderBrush="Gray" BorderThickness="2" Grid.ColumnSpan="2" d:IsHidden="False"/>
                                                                            <Grid Background="Red" Margin="3" d:IsHidden="False"/>
                                                                            <TextBlock Grid.Column="1" Text="red" VerticalAlignment="Center" HorizontalAlignment="Center" d:IsHidden="False"/>
                                                                        </Grid>
                                                                    </ComboBoxItem>
                                                                    <ComboBoxItem d:IsHidden="False" >
                                                                        <Grid MinWidth="160" d:IsHidden="False">
                                                                            <Grid.ColumnDefinitions>
                                                                                <ColumnDefinition Width="1*"/>
                                                                                <ColumnDefinition Width="3*"/>
                                                                            </Grid.ColumnDefinitions>
                                                                            <Border BorderBrush="Gray" BorderThickness="2" Grid.ColumnSpan="2" d:IsHidden="False"/>

                                                                            <Grid Background="Green" Margin="3" d:IsHidden="False"/>
                                                                            <TextBlock Grid.Column="1"  Text="#cbdfe8" VerticalAlignment="Center" HorizontalAlignment="Center" d:IsHidden="False"/>
                                                                        </Grid>
                                                                    </ComboBoxItem>
                                                                    <ComboBoxItem d:IsHidden="False" >
                                                                        <Grid MinWidth="160" d:IsHidden="False">
                                                                            <Grid.ColumnDefinitions>
                                                                                <ColumnDefinition Width="1*"/>
                                                                                <ColumnDefinition Width="3*"/>
                                                                            </Grid.ColumnDefinitions>
                                                                            <Border BorderBrush="Gray" BorderThickness="2" Grid.ColumnSpan="2" d:IsHidden="False"/>

                                                                            <Grid Background="Blue" Margin="3" d:IsHidden="False"/>
                                                                            <TextBlock Grid.Column="1" Text="blue" VerticalAlignment="Center" HorizontalAlignment="Center" d:IsHidden="False"/>
                                                                        </Grid>
                                                                    </ComboBoxItem>
                                                                    <ComboBoxItem d:IsHidden="False" >
                                                                        <Grid MinWidth="160" d:IsHidden="False">
                                                                            <Grid.ColumnDefinitions>
                                                                                <ColumnDefinition Width="1*"/>
                                                                                <ColumnDefinition Width="3*"/>
                                                                            </Grid.ColumnDefinitions>
                                                                            <Border BorderBrush="Gray" BorderThickness="2" Grid.ColumnSpan="2" d:IsHidden="False"/>

                                                                            <Grid Background="Orange" Margin="3" d:IsHidden="False"/>
                                                                            <TextBlock Grid.Column="1" Text="orange" VerticalAlignment="Center" HorizontalAlignment="Center" d:IsHidden="False"/>
                                                                        </Grid>
                                                                    </ComboBoxItem>
                                                                    <ComboBoxItem d:IsHidden="False" >
                                                                        <Grid MinWidth="160" d:IsHidden="False">
                                                                            <Grid.ColumnDefinitions>
                                                                                <ColumnDefinition Width="1*"/>
                                                                                <ColumnDefinition Width="3*"/>
                                                                            </Grid.ColumnDefinitions>
                                                                            <Border BorderBrush="Gray" BorderThickness="2" Grid.ColumnSpan="2" d:IsHidden="False"/>

                                                                            <Grid Background="Yellow" Margin="3" d:IsHidden="False"/>
                                                                            <TextBlock Grid.Column="1" Text="yellow" VerticalAlignment="Center" HorizontalAlignment="Center" d:IsHidden="False"/>
                                                                        </Grid>
                                                                    </ComboBoxItem>
                                                                    <ComboBoxItem d:IsHidden="False" >
                                                                        <Grid MinWidth="160" d:IsHidden="False">
                                                                            <Grid.ColumnDefinitions>
                                                                                <ColumnDefinition Width="1*"/>
                                                                                <ColumnDefinition Width="3*"/>
                                                                            </Grid.ColumnDefinitions>
                                                                            <Border BorderBrush="Gray" BorderThickness="2" Grid.ColumnSpan="2" d:IsHidden="False"/>
                                                                            <Grid Background="Purple" Margin="3" d:IsHidden="False"/>
                                                                            <TextBlock Grid.Column="1" Text="purple" VerticalAlignment="Center" HorizontalAlignment="Center" d:IsHidden="False"/>
                                                                        </Grid>
                                                                    </ComboBoxItem>
                                                                </ComboBox>
                                                                <ComboBox  HorizontalContentAlignment="Center" VerticalContentAlignment="Center" Grid.Row="5" Grid.Column="1" Margin="5" HorizontalAlignment="Stretch" VerticalAlignment="Stretch" FontSize="24" Text="Select Type" SelectedIndex="{Binding _CrtRecipeInfo._publicInfo.Ledmode, Converter={StaticResource IntToselectIndex}, Mode=TwoWay}" d:IsHidden="False">
                                                                    <ComboBoxItem Content="always on" d:IsHidden="False"/>
                                                                    <ComboBoxItem Content="flash" d:IsHidden="False"/>
                                                                    <ComboBoxItem Content="breath" d:IsHidden="False"/>
                                                                    <ComboBoxItem Content="circling" d:IsHidden="False"/>
                                                                    <ComboBoxItem Content="off" d:IsHidden="False"/>
                                                                </ComboBox>
                                                                <ComboBox  HorizontalContentAlignment="Center" VerticalContentAlignment="Center" Grid.Row="6" Grid.Column="1" Margin="5" FontSize="24" Text="Select Type" SelectedIndex="{Binding _CrtRecipeInfo._publicInfo.LedIntensity, Converter={StaticResource IntToselectIndex}, Mode=TwoWay}" d:IsHidden="False">
                                                                    <ComboBoxItem Content="normal" d:IsHidden="False"/>
                                                                    <ComboBoxItem Content="weak" d:IsHidden="False"/>
                                                                </ComboBox>

                                                                <ToggleButton Grid.Row="1" Grid.Column="3" Margin="60,5" HorizontalAlignment="Stretch" VerticalAlignment="Stretch" IsChecked="{Binding _CrtRecipeInfo._publicInfo.CupSensor, Converter={StaticResource IntToIsChecked}, Mode=TwoWay}" Style="{StaticResource ToggleButtonSelectStyle}" />
                                                                <ToggleButton Grid.Row="2" Grid.Column="3" Margin="60,5" HorizontalAlignment="Stretch" VerticalAlignment="Stretch" IsChecked="{Binding _CrtRecipeInfo._publicInfo.setCups, Converter={StaticResource IntToIsChecked}, Mode=TwoWay}" Style="{StaticResource ToggleButtonSelectStyle}" />
                                                                <ToggleButton Grid.Row="3" Grid.Column="3" Margin="60,5" HorizontalAlignment="Stretch" VerticalAlignment="Stretch" IsChecked="{Binding _CrtRecipeInfo._publicInfo.setStrength, Converter={StaticResource IntToIsChecked}, Mode=TwoWay}" Style="{StaticResource ToggleButtonSelectStyle}" />
                                                                <ToggleButton Grid.Row="4" Grid.Column="3" Margin="60,5" HorizontalAlignment="Stretch" VerticalAlignment="Stretch" IsChecked="{Binding _CrtRecipeInfo._publicInfo.setVolume, Converter={StaticResource IntToIsChecked}, Mode=TwoWay}" Style="{StaticResource ToggleButtonSelectStyle}" />
                                                                <ToggleButton Grid.Row="5" Grid.Column="3" Margin="60,5" HorizontalAlignment="Stretch" VerticalAlignment="Stretch" IsChecked="{Binding _CrtRecipeInfo._publicInfo.setMilk, Converter={StaticResource IntToIsChecked}, Mode=TwoWay}" Style="{StaticResource ToggleButtonSelectStyle}" />
                                                                <ToggleButton Grid.Row="6" Grid.Column="3" Margin="60,5" HorizontalAlignment="Stretch" VerticalAlignment="Stretch" IsChecked="{Binding _CrtRecipeInfo._publicInfo.setSugar, Converter={StaticResource IntToIsChecked}, Mode=TwoWay}" Style="{StaticResource ToggleButtonSelectStyle}" />
                                                                <!--Bottom Line-->
                                                                <Border Grid.Row="7"  BorderThickness="2" BorderBrush="#cbdfe8"  Grid.ColumnSpan="4" Width="1000" HorizontalAlignment="Left" VerticalAlignment="Bottom"></Border>

                                                            </Grid>
                                                            <!--Advance setting-->
                                                            <Grid Grid.Row="1" >
                                                                <Grid.RowDefinitions>
                                                                    <RowDefinition Height="1.1*"/>
                                                                    <RowDefinition Height="4*"/>
                                                                </Grid.RowDefinitions>
                                                                <!--header-->
                                                                <Border Grid.Row="0" Background="#FF8C8F96" Grid.ColumnSpan="4">
                                                                    <TextBlock Margin="20,0,0,0" Text ="Ingredient Step" HorizontalAlignment="Left" VerticalAlignment="Center" FontSize="28" Foreground="WhiteSmoke"/>
                                                                </Border>
                                                                <Grid Grid.Row="0" >
                                                                    <Button  Command="{Binding BtnCmd}" CommandParameter="112"  HorizontalAlignment="Right" Width="50" Style="{DynamicResource AddButtonStyle}" Margin="0,4,20,4" Content="Add"/>
                                                                </Grid>
                                                                <Grid  Margin="10,5,10,0" Grid.Row="1">
                                                                    <ListView ItemsSource="{Binding _CrtRecipeInfo._lstIngredientStep}" SelectionMode="Single" Background="Silver">
                                                                        <ListView.Template>
                                                                            <ControlTemplate>
                                                                                <Grid>
                                                                                    <Grid.RowDefinitions>
                                                                                        <RowDefinition Height="0.8*"/>
                                                                                        <RowDefinition Height="4*"/>
                                                                                    </Grid.RowDefinitions>
                                                                                    <Grid Grid.Row="0" Background="Silver">
                                                                                        <Grid.ColumnDefinitions>
                                                                                            <ColumnDefinition Width="0.8*"/>
                                                                                            <ColumnDefinition Width="0.4*"/>
                                                                                            <ColumnDefinition Width="1*"/>
                                                                                            <ColumnDefinition Width="0.8*"/>
                                                                                            <ColumnDefinition Width="1*"/>
                                                                                            <ColumnDefinition Width="0.4*"/>
                                                                                            <ColumnDefinition Width="0.4*"/>
                                                                                        </Grid.ColumnDefinitions>

                                                                                        <Border Grid.Column="0"  Background="Silver">
                                                                                            <TextBlock  Text="StartTime(sec)" FontSize="16" VerticalAlignment="Center" HorizontalAlignment="Center"/>
                                                                                        </Border>
                                                                                        <Border Grid.Column="1" Background="Silver">
                                                                                            <TextBlock  Text="ID" FontSize="16" VerticalAlignment="Center" HorizontalAlignment="Center"/>
                                                                                        </Border>
                                                                                        <Border Grid.Column="2" Background="Silver">
                                                                                            <TextBlock  Text="Name" FontSize="16" VerticalAlignment="Center" HorizontalAlignment="Center"/>
                                                                                        </Border>
                                                                                        <Border  Grid.Column="3"  Background="Silver">
                                                                                            <TextBlock Text="Volume(ml)" FontSize="16" VerticalAlignment="Center" HorizontalAlignment="Center"/>
                                                                                        </Border>
                                                                                        <Border  Grid.Column="4"   Background="Silver">
                                                                                            <TextBlock Text="ScaleRate(%)" FontSize="16" VerticalAlignment="Center" HorizontalAlignment="Center"/>

                                                                                        </Border>
                                                                                        <Border  Grid.Column="5"  Background="Silver">
                                                                                            <TextBlock Text="Edit" FontSize="16" VerticalAlignment="Center" HorizontalAlignment="Center"/>
                                                                                        </Border>
                                                                                        <Border  Grid.Column="6"  Background="Silver">
                                                                                            <TextBlock Text="Remove" FontSize="16" VerticalAlignment="Center" HorizontalAlignment="Center"/>
                                                                                        </Border>
                                                                                        <Border BorderThickness="1" BorderBrush="#cbdfe8"  Grid.ColumnSpan="7" Width="1000" HorizontalAlignment="Left" VerticalAlignment="Bottom"/>

                                                                                    </Grid>
                                                                                    <Border Grid.Row="1">
                                                                                        <ScrollViewer VerticalScrollBarVisibility="Visible" HorizontalScrollBarVisibility="Disabled" >
                                                                                            <ItemsPresenter />
                                                                                        </ScrollViewer>
                                                                                    </Border>
                                                                                </Grid>
                                                                            </ControlTemplate>
                                                                        </ListView.Template>
                                                                        <ListView.ItemsPanel>
                                                                            <ItemsPanelTemplate>
                                                                                <StackPanel IsItemsHost="True"/>
                                                                            </ItemsPanelTemplate>
                                                                        </ListView.ItemsPanel>
                                                                        <ListView.ItemContainerStyle>
                                                                            <Style TargetType="{x:Type ListViewItem}">
                                                                                <Setter Property="IsSelected" Value="{Binding IsSelected, Mode=TwoWay}"/>
                                                                                <Setter Property="Template">
                                                                                    <Setter.Value>
                                                                                        <ControlTemplate TargetType="{x:Type ListViewItem}">
                                                                                            <Border x:Name="BD_Collector" Background="Transparent" Width="auto" Height="40">
                                                                                                <Grid Background="Transparent">
                                                                                                    <Grid.ColumnDefinitions>
                                                                                                        <ColumnDefinition Width="0.8*"/>
                                                                                                        <ColumnDefinition Width="0.4*"/>
                                                                                                        <ColumnDefinition Width="1*"/>
                                                                                                        <ColumnDefinition Width="0.8*"/>
                                                                                                        <ColumnDefinition Width="1*"/>
                                                                                                        <ColumnDefinition Width="0.4*"/>
                                                                                                        <ColumnDefinition Width="0.4*"/>
                                                                                                    </Grid.ColumnDefinitions>
                                                                                                    <Border Grid.Column="0"  >
                                                                                                        <TextBlock  Text="{Binding StartTime, Converter={StaticResource MsToSecConverter}}" FontSize="12" VerticalAlignment="Center" HorizontalAlignment="Center"/>
                                                                                                    </Border>
                                                                                                    <Border Grid.Column="1" >
                                                                                                        <TextBlock  Text="{Binding ID}" FontSize="12" VerticalAlignment="Center" HorizontalAlignment="Center"/>
                                                                                                    </Border>
                                                                                                    <Border Grid.Column="2"  >
                                                                                                        <TextBlock  Text="{Binding Name}" FontSize="12" VerticalAlignment="Center" HorizontalAlignment="Center"/>
                                                                                                    </Border>
                                                                                                    <Border  Grid.Column="3"  >
                                                                                                        <TextBlock   Text="{Binding UsedTime}" FontSize="12" VerticalAlignment="Center" HorizontalAlignment="Center"/>
                                                                                                    </Border>
                                                                                                    <Border Grid.Column="4"  >
                                                                                                        <extToolkit:DecimalUpDown Maximum="300" Minimum="20"  FontSize="12" VerticalAlignment="Center" HorizontalAlignment="Center" MinWidth="60" Value="{Binding ScaleRate, Mode=TwoWay}"/>
                                                                                                    </Border>
                                                                                                    <Border  Grid.Column="5">
                                                                                                        <Button Style="{DynamicResource EditButtonStyle}" Content="" HorizontalAlignment="Stretch"  FontSize="12" VerticalAlignment="Stretch" Margin="5,3" Command="{Binding DataContext.EditCMD, RelativeSource={RelativeSource FindAncestor, AncestorType={x:Type Window}}}" CommandParameter="{Binding ID}" />
                                                                                                    </Border>
                                                                                                    <Border  Grid.Column="6" >
                                                                                                        <Button Style="{DynamicResource RemoveButtonStyle}" Content="" HorizontalAlignment="Stretch"  FontSize="16" VerticalAlignment="Stretch" Margin="5,3" Command="{Binding DataContext.DelCMD, RelativeSource={RelativeSource FindAncestor, AncestorType={x:Type Window}}}" CommandParameter="{Binding ID}" />
                                                                                                    </Border>
                                                                                                    <Border BorderThickness="2" BorderBrush="#cbdfe8"  Grid.ColumnSpan="7" Width="1000" HorizontalAlignment="Left" VerticalAlignment="Bottom"/>
                                                                                                </Grid>
                                                                                            </Border>
                                                                                            <ControlTemplate.Triggers>
                                                                                                <Trigger Property="IsMouseOver" Value="True">
                                                                                                    <Setter TargetName="BD_Collector" Property="Background" Value="YellowGreen" />
                                                                                                </Trigger>
                                                                                                <Trigger Property="IsSelected" Value="True">
                                                                                                    <Setter TargetName="BD_Collector" Property="Background" Value="DarkGreen" />
                                                                                                </Trigger>
                                                                                            </ControlTemplate.Triggers>
                                                                                        </ControlTemplate>
                                                                                    </Setter.Value>
                                                                                </Setter>
                                                                            </Style>
                                                                        </ListView.ItemContainerStyle>
                                                                    </ListView>
                                                                </Grid>
                                                            </Grid>
                                                        </Grid>
                                                        <!--Cmd function-->
                                                        <Grid Grid.Row="3">
                                                            <Grid.ColumnDefinitions>
                                                                <ColumnDefinition Width="1*"/>
                                                                <ColumnDefinition Width="1*"/>
                                                                <ColumnDefinition Width="1*"/>
                                                                <ColumnDefinition Width="1*"/>
                                                            </Grid.ColumnDefinitions>
                                                            <Button Grid.Column="0" Command="{Binding ComCmd}" CommandParameter="132"  Style="{DynamicResource PreviewButtonStyle}"></Button>
                                                            <Button Grid.Column="1" Command="{Binding ComCmd}" CommandParameter="131"  Style="{DynamicResource ADDButtonStyle}"></Button>
                                                            <Button Grid.Column="2" Command="{Binding ComCmd}" CommandParameter="130"  Style="{DynamicResource ModifyButtonStyle}"></Button>
                                                            <Button Grid.Column="3" Command="{Binding ComCmd}" CommandParameter="129"  Style="{DynamicResource DeleteButtonStyle}"></Button>
                                                        </Grid>
                                                    </Grid>
                        </Grid>
                    </Grid>
                    <Grid Name="evo_cleansys" Visibility="{Binding _UiData.is_Clean_visible, ConverterParameter=Disabled, Converter={StaticResource BoolToVisibilityConverter}, Mode=TwoWay}" d:IsHidden="True" d:IsLocked="True" >
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="1*"/>
                            <ColumnDefinition Width="5*"/>
                        </Grid.ColumnDefinitions>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="80*"/>
                            <RowDefinition Height="617*"/>
                            <RowDefinition Height="95*"/>
                        </Grid.RowDefinitions>
                        <Border Background="#FF1E5D8F">
                            <TextBlock Text="{Binding _CrtEVOMachine.Name}" Foreground="White" TextAlignment="Center" HorizontalAlignment="Stretch" VerticalAlignment="Center" FontSize="28" FontWeight="Bold"></TextBlock>
                        </Border>
                        <Grid Grid.Column="1">
                            <Grid.RowDefinitions>
                                <RowDefinition Height="6*"/>
                                <RowDefinition Height="1*"/>
                            </Grid.RowDefinitions>
                            <Menu HorizontalAlignment="Right" VerticalAlignment="Center" Background="Transparent" Margin="0,0,10,0">
                                <MenuItem FontSize="32" Header="File" Foreground="Black">
                                    <MenuItem FontSize="32" Header="Import db File" Tag="1" Click="menu_check"/>
                                    <Separator/>
                                    <MenuItem FontSize="32" Header="Export db File" Tag="2" Click="menu_check"/>
                                </MenuItem>
                                <Separator/>
                                <MenuItem FontSize="32" Header="Tool" Foreground="Black">
                                    <MenuItem FontSize="32" Header="ComPort Setting" Tag="3" Click="menu_check"/>
                                    <Separator/>
                                    <MenuItem FontSize="32" Header="Extern tools">
                                        <MenuItem FontSize="32" Header="Picture Maker" Tag="5" Click="menu_check"/>
                                        <Separator/>
                                        <MenuItem FontSize="32" Header="USB Key Maker" Tag="6" Click="menu_check"/>
                                    </MenuItem>
                                    <Separator/>
                                </MenuItem>
                                <Separator/>
                                <MenuItem  Header="Help" FontSize="32"  Foreground="Black">
                                    <MenuItem FontSize="32" Header="Help Doucment" Tag="7" Click="menu_check"/>
                                    <Separator/>
                                    <MenuItem FontSize="32" Header="About this" Tag="8" Click="menu_check"/>
                                </MenuItem>
                            </Menu>
                            <Border Grid.Row="1" Margin="20,0,0,0" Background="Black"></Border>
                        </Grid>
                        <Grid Grid.Row="1" Grid.RowSpan="2">
                            <StackPanel VerticalAlignment="Stretch" HorizontalAlignment="Stretch"  Background="#FF8C8F96">
                                <RadioButton Foreground="White" Command="{Binding BtnCmd}" CommandParameter="1025" FontSize="24" Style="{DynamicResource ListButtonStyle}">Daily Clean</RadioButton>
                                <RadioButton Foreground="White" Command="{Binding BtnCmd}" CommandParameter="1026" FontSize="24" Style="{DynamicResource ListButtonStyle}">Weekly Clean</RadioButton>
                                <RadioButton Foreground="White" Command="{Binding BtnCmd}" CommandParameter="1027" FontSize="24" Style="{DynamicResource ListButtonStyle}">Water Filter Flush</RadioButton>
                                <RadioButton Foreground="White" Command="{Binding BtnCmd}" CommandParameter="1028" FontSize="24" Style="{DynamicResource ListButtonStyle}">Flush Brew</RadioButton>
                                <RadioButton Foreground="White" Command="{Binding BtnCmd}" CommandParameter="1029" FontSize="24" Style="{DynamicResource ListButtonStyle}">Clean Brew</RadioButton>
                                <RadioButton Foreground="White" Command="{Binding BtnCmd}" CommandParameter="1030" FontSize="24" Style="{DynamicResource ListButtonStyle}">Clean Mixer</RadioButton>
                                <RadioButton Foreground="White" Command="{Binding BtnCmd}" CommandParameter="1031" FontSize="24" Style="{DynamicResource ListButtonStyle}">Clean Valves</RadioButton>
                                <RadioButton Foreground="White" Command="{Binding BtnCmd}" CommandParameter="1032" FontSize="24" Style="{DynamicResource ListButtonStyle}">Clean Grinder</RadioButton>
                                <RadioButton Foreground="White" Command="{Binding BtnCmd}" CommandParameter="1033" FontSize="24" Style="{DynamicResource ListButtonStyle}">Open Brew</RadioButton>
                            </StackPanel>
                        </Grid>
                        <!--Home Button-->
                        <Grid Grid.Row="2" Margin="20">
                            <Button Command="{Binding BtnCmd}" CommandParameter="2" Style="{DynamicResource HomeButtonStyle}"/>
                        </Grid>
                        <!--daily clean function-->

                        <Grid Visibility="{Binding _UiData.Clean_type, ConverterParameter=CLEAN_DAILY, Converter={StaticResource CleanVisibleConverter}, Mode=TwoWay}" Name="grd_daily" Margin="20,0,0,0"  Grid.Row="1" Grid.Column="1" Grid.RowSpan="2" d:IsHidden="True" >

                            <Grid>
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="3*"/>
                                    <RowDefinition Height="1*"/>
                                </Grid.RowDefinitions>

                                <!--Picture & text-->
                                <Border Margin="0,15,5,0" BorderThickness="2" BorderBrush="gray" Grid.Row="0">
                                    <Grid >
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="1*"/>
                                            <ColumnDefinition Width="2*"/>
                                        </Grid.ColumnDefinitions>
                                        <Grid Grid.Column="1">
                                            <Grid.Background>
                                                <ImageBrush ImageSource="cleanpic/Daily care-01.png"/>
                                            </Grid.Background>
                                        </Grid>
                                        <TextBlock Margin="10,0,0,0"  TextWrapping="Wrap" FontSize="24"  Grid.Column="0" HorizontalAlignment="Center" VerticalAlignment="Center" Text="Place cleaning container on the drip tray.&#x000A;
Press START button to run the cleaning procedure." Foreground="#FF2B2929"></TextBlock>
                                    </Grid>
                                </Border>
                                <!--Button-->
                                <Grid Grid.Row="1"  >
                                    <Button Style="{DynamicResource CleanButtonStyle}" Tag="5"  Click ="clean_start"   FontSize="36" Margin="400,20">Start</Button>
                                </Grid>
                            </Grid>


                        </Grid>

                        <!--Weekly function-->
                        <Grid Name="grd_weekly"  Margin="20,0,0,0"  Grid.Row="1" Grid.Column="1" Grid.RowSpan="2" Visibility="{Binding _UiData.Clean_type, ConverterParameter=CLEAN_WEEKLY, Converter={StaticResource CleanVisibleConverter}, Mode=TwoWay}" d:IsHidden="True" >
                            <Grid.RowDefinitions>
                                <RowDefinition Height="3*"/>
                                <RowDefinition Height="1*"/>
                            </Grid.RowDefinitions>
                            <!--Picture & text-->
                            <Border Margin="0,15,5,0" BorderThickness="2" BorderBrush="gray" Grid.Row="0">
                                <Grid Grid.Row="0">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="1*"/>
                                        <ColumnDefinition Width="2*"/>
                                    </Grid.ColumnDefinitions>
                                    <Grid Grid.Column="1">
                                        <Grid.Background>
                                            <ImageBrush ImageSource="cleanpic/Weekly care-01.png"/>
                                        </Grid.Background>
                                    </Grid>
                                    <TextBlock Margin="10,0,0,0"  TextWrapping="Wrap" FontSize="24"   HorizontalAlignment="Center" VerticalAlignment="Center" Text="1. Open the door, pour the brewer cleaning agent into the brewer then
close and lock the door.&#x000A;
2. Fully raise both drink outlets and place the cleaning container centered
on the drip tray.&#x000A;
3. Then press START."></TextBlock>
                                </Grid>
                            </Border>
                            <!--Button-->
                            <Grid Grid.Row="1"  >
                                <Button Style="{DynamicResource CleanButtonStyle}" Tag="7" Click ="clean_start"   FontSize="36" Margin="400,20">Start</Button>
                            </Grid>
                        </Grid>
                        <!--water function-->
                        <Grid Name="grd_water"  Margin="20,0,0,0"  Grid.Row="1" Grid.Column="1" Grid.RowSpan="2" Visibility="{Binding _UiData.Clean_type, ConverterParameter=CLEAN_WATERFLUSH, Converter={StaticResource CleanVisibleConverter}, Mode=TwoWay}" d:IsHidden="True">
                            <Grid.RowDefinitions>
                                <RowDefinition Height="3*"/>
                                <RowDefinition Height="1*"/>
                            </Grid.RowDefinitions>
                            <!--Picture & text-->
                            <Border Margin="0,15,5,0" BorderThickness="2" BorderBrush="gray" Grid.Row="0">
                                <Grid Grid.Row="0">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="1*"/>
                                        <ColumnDefinition Width="2*"/>
                                    </Grid.ColumnDefinitions>
                                    <Grid Grid.Column="1">
                                        <Grid.Background>
                                            <ImageBrush ImageSource="cleanpic/Water Filter Flush-01.png"/>
                                        </Grid.Background>
                                    </Grid>
                                    <TextBlock Margin="10,0,0,0" FontSize="24" TextWrapping="Wrap"  HorizontalAlignment="Center" VerticalAlignment="Center" Text="Place cleaning container on the drip tray.&#x000A;
Press START button to run the cleaning procedure."></TextBlock>
                                </Grid>
                            </Border>
                            <!--Button-->
                            <Grid Grid.Row="1"  >
                                <Button Style="{DynamicResource CleanButtonStyle}" Tag="8" Click ="clean_start"   FontSize="36" Margin="400,20">Start</Button>
                            </Grid>
                        </Grid>
                        <!--flush brew function-->
                        <Grid Name="grd_flushbrew"  Margin="20,0,0,0"  Grid.Row="1" Grid.Column="1" Grid.RowSpan="2" Visibility="{Binding _UiData.Clean_type, ConverterParameter=CLEAN_FLUSH_BREW, Converter={StaticResource CleanVisibleConverter}, Mode=TwoWay}" d:IsHidden="True">
                            <Grid.RowDefinitions>
                                <RowDefinition Height="3*"/>
                                <RowDefinition Height="1*"/>
                            </Grid.RowDefinitions>
                            <!--Picture & text-->
                            <Border Margin="0,15,5,0" BorderThickness="2" BorderBrush="gray" Grid.Row="0">

                                <Grid Grid.Row="0">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="1*"/>
                                        <ColumnDefinition Width="2*"/>
                                    </Grid.ColumnDefinitions>
                                    <Grid Grid.Column="1">
                                        <Grid.Background>
                                            <ImageBrush ImageSource="cleanpic/Water Filter Flush-01.png"/>
                                        </Grid.Background>
                                    </Grid>
                                    <TextBlock Margin="10,0,0,0"  TextWrapping="Wrap" FontSize="24"    HorizontalAlignment="Center" VerticalAlignment="Center" Text="Place cleaning container on the drip tray.&#x000A;
Press START button to run the cleaning procedure."></TextBlock>
                                </Grid>
                            </Border>
                            <!--Button-->
                            <Grid Grid.Row="1"  >
                                <Button Style="{DynamicResource CleanButtonStyle}" Tag="9" Click ="clean_start"   FontSize="36" Margin="400,20">Start</Button>
                            </Grid>
                        </Grid>
                        <!--cleanbrew function-->
                        <Grid Name="grd_cleanbrew"  Margin="20,0,0,0"  Grid.Row="1" Grid.Column="1" Grid.RowSpan="2" Visibility="{Binding _UiData.Clean_type, ConverterParameter=CLEAN_CLEAN_BREW, Converter={StaticResource CleanVisibleConverter}, Mode=TwoWay}" d:IsHidden="True">
                            <Grid.RowDefinitions>
                                <RowDefinition Height="3*"/>
                                <RowDefinition Height="1*"/>
                            </Grid.RowDefinitions>
                            <!--Picture & text-->
                            <Border Margin="0,15,5,0" BorderThickness="2" BorderBrush="gray" Grid.Row="0">

                                <Grid Grid.Row="0">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="1*"/>
                                        <ColumnDefinition Width="2*"/>
                                    </Grid.ColumnDefinitions>
                                    <Grid Grid.Column="1">
                                        <Grid.Background>
                                            <ImageBrush ImageSource="cleanpic/Water Filter Flush-01.png"/>
                                        </Grid.Background>
                                    </Grid>
                                    <TextBlock TextWrapping="Wrap" Margin="10,0,0,0" FontSize="24"   HorizontalAlignment="Center" VerticalAlignment="Center" Text="1. Open the door, pour the brewer cleaning agent into the brewer then
close and lock the door.&#x000A;
2. Fully raise both drink outlets and place the cleaning container centered
on the drip tray.&#x000A;
3. Then press START."></TextBlock>
                                </Grid>
                            </Border>
                            <!--Button-->
                            <Grid Grid.Row="1"  >
                                <Button Style="{DynamicResource CleanButtonStyle}" Tag="0" Click ="clean_start"   FontSize="36" Margin="400,20">Start</Button>
                            </Grid>
                        </Grid>
                        <!--cleanmixer function-->
                        <Grid Name="grd_cleanmixer"  Margin="20,0,0,0"  Grid.Row="1" Grid.Column="1" Grid.RowSpan="2" Visibility="{Binding _UiData.Clean_type, ConverterParameter=CLEAN_CLEAN_MIXER, Converter={StaticResource CleanVisibleConverter}, Mode=TwoWay}" d:IsHidden="True">
                            <Grid.RowDefinitions>
                                <RowDefinition Height="3*"/>
                                <RowDefinition Height="1*"/>
                            </Grid.RowDefinitions>
                            <!--Picture & text-->
                            <Border Margin="0,15,5,0" BorderThickness="2" BorderBrush="gray" Grid.Row="0">

                                <Grid Grid.Row="0">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="1*"/>
                                        <ColumnDefinition Width="2*"/>
                                    </Grid.ColumnDefinitions>
                                    <Grid Grid.Column="1">
                                        <Grid.Background>
                                            <ImageBrush ImageSource="cleanpic/Water Filter Flush-01.png"/>
                                        </Grid.Background>
                                    </Grid>
                                    <TextBlock TextWrapping="Wrap" Margin="10,0,0,0" FontSize="24"  HorizontalAlignment="Center" VerticalAlignment="Center" Text="Place cleaning container on the drip tray.&#x000A;
ress START button to run the cleaning procedure."></TextBlock>
                                </Grid>
                            </Border>
                            <!--Button-->
                            <Grid Grid.Row="1"  >
                                <Button Style="{DynamicResource CleanButtonStyle}" Tag="3" Click ="clean_start"   FontSize="36" Margin="400,20">Start</Button>
                            </Grid>
                        </Grid>
                        <!--clean valve function-->
                        <Grid Name="grd_valve"  Margin="20,0,0,0"  Grid.Row="1" Grid.Column="1" Grid.RowSpan="2" Visibility="{Binding _UiData.Clean_type, ConverterParameter=CLEAN_CLEAN_VALVE, Converter={StaticResource CleanVisibleConverter}, Mode=TwoWay}" d:IsHidden="True" >
                            <Grid.RowDefinitions>
                                <RowDefinition Height="3*"/>
                                <RowDefinition Height="1*"/>
                            </Grid.RowDefinitions>
                            <!--Picture & text-->
                            <Border Margin="0,15,5,0" BorderThickness="2" BorderBrush="gray" Grid.Row="0">

                                <Grid Grid.Row="0">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="1*"/>
                                        <ColumnDefinition Width="2*"/>
                                    </Grid.ColumnDefinitions>
                                    <Grid Grid.Column="1">
                                        <Grid.Background>
                                            <ImageBrush ImageSource="cleanpic/Water Filter Flush-01.png"/>
                                        </Grid.Background>
                                    </Grid>
                                    <TextBlock TextWrapping="Wrap" Margin="10,0,0,0" FontSize="24"   HorizontalAlignment="Center" VerticalAlignment="Center" Text="Place cleaning container on the drip tray.&#x000A;
Press START button to run the cleaning procedure."></TextBlock>
                                </Grid>
                            </Border>
                            <!--Button-->
                            <Grid Grid.Row="1"  >
                                <Button Style="{DynamicResource CleanButtonStyle}" Tag="6" Click ="clean_start"   FontSize="36" Margin="400,20">Start</Button>
                            </Grid>
                        </Grid>
                        <!--clean grinder function-->
                        <Grid Name="grd_grinder"  Margin="20,0,0,0"  Grid.Row="1" Grid.Column="1" Grid.RowSpan="2" Visibility="{Binding _UiData.Clean_type, ConverterParameter=CLEAN_CLEAN_GRINDER, Converter={StaticResource CleanVisibleConverter}, Mode=TwoWay}" d:IsHidden="True" >
                            <Grid.RowDefinitions>
                                <RowDefinition Height="3*"/>
                                <RowDefinition Height="1*"/>
                            </Grid.RowDefinitions>
                            <!--Picture & text-->
                            <Border Margin="0,15,5,0" BorderThickness="2" BorderBrush="gray" Grid.Row="0">

                                <Grid Grid.Row="0">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="1*"/>
                                        <ColumnDefinition Width="2*"/>
                                    </Grid.ColumnDefinitions>
                                    <Grid Grid.Column="1">
                                        <Grid.Background>
                                            <ImageBrush ImageSource="cleanpic/Clean Grinder-01.png"/>
                                        </Grid.Background>
                                    </Grid>
                                    <TextBlock TextWrapping="Wrap" Margin="10,0,0,0" FontSize="18"   HorizontalAlignment="Center" VerticalAlignment="Center" Text="1. Open the door, remove the brewer.&#x000A;
2. Slide out the bean hopper.&#x000A;
3. Remove coffee beans and fill the cleaning tablets into the bean hopper.&#x000A;
4. Replace the bean hopper and place a jug under the grinder outlet.&#x000A;
5. Press START button to run the cleaning procedure. Press and hold start to run the grinder.&#x000A;
6. When the cleaning tablets have been used, refill the grinder with coffee.&#x000A;
7. Press and hold the start button until the grinder only delivers fresh grounded coffee."></TextBlock>
                                </Grid>
                            </Border>
                            <!--Button-->
                            <Grid Grid.Row="1"  >
                                <Button Style="{DynamicResource CleanButtonStyle}" Tag="2" Click ="clean_start"   FontSize="36" Margin="400,20">Start</Button>
                            </Grid>
                        </Grid>
                        <!--open brew function-->
                        <Grid Name="grd_openbrew"  Margin="20,0,0,0"  Grid.Row="1" Grid.Column="1" Grid.RowSpan="2" Visibility="{Binding _UiData.Clean_type, ConverterParameter=CLEAN_OPEN_BREW, Converter={StaticResource CleanVisibleConverter}, Mode=TwoWay}" d:IsHidden="True" >
                            <Grid.RowDefinitions>
                                <RowDefinition Height="3*"/>
                                <RowDefinition Height="1*"/>
                            </Grid.RowDefinitions>
                            <!--Picture & text-->
                            <Border Margin="0,15,5,0" BorderThickness="2" BorderBrush="gray" Grid.Row="0">
                                <Grid Grid.Row="0">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="1*"/>
                                        <ColumnDefinition Width="1*"/>
                                    </Grid.ColumnDefinitions>
                                    <Grid  Grid.Column="0">
                                        <Grid.Background>
                                            <ImageBrush ImageSource="cleanpic/Open brewer01.png"/>
                                        </Grid.Background>
                                    </Grid>
                                    <Grid  Grid.Column="1">
                                        <Grid.Background>
                                            <ImageBrush ImageSource="cleanpic/Open brewer02.png"/>
                                        </Grid.Background>
                                    </Grid>
                                </Grid>
                            </Border>
                            <!--Button-->
                            <Grid Grid.Row="1"  >
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="1*"/>
                                    <ColumnDefinition Width="1*"/>
                                </Grid.ColumnDefinitions>
                                <Button Style="{DynamicResource CleanButtonStyle}" Tag="10" Click ="clean_start"   FontSize="36" Margin="158,22,172,20">Start</Button>
                                <Button Grid.Column="1"  Style="{DynamicResource CleanButtonStyle}" Tag="10" Click ="clean_stop"   FontSize="36" Margin="164,22,166,20" Content="Stop"/>
                            </Grid>
                        </Grid>
                        <!--Show clean stop & block the UI-->
                        <Grid Name="grd_clean_block" Visibility="{Binding _UiData.is_clean_block_visible, ConverterParameter=Disabled, Converter={StaticResource BoolToVisibilityConverter}, Mode=TwoWay}" Grid.RowSpan="3" Grid.ColumnSpan="2" Background="Transparent">
                            <Grid >
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="1*"/>
                                    <RowDefinition Height="2*"/>
                                    <RowDefinition Height="1*"/>
                                </Grid.RowDefinitions>
                                <Border Grid.RowSpan="3" Grid.ColumnSpan="2" Background="gray" Opacity="0.5"></Border>
                                <Grid Grid.Row="1" Background="#FF1E5D8F">
                                    <TextBlock Margin="0,50"  TextAlignment="Center" FontSize="42" Foreground="white"  Text="Cleaning operation is under processing...&#x000A;Press the stop button to Abort the cleaning operation."></TextBlock>
                                    <local:MetroProBar Width="740"  HorizontalAlignment="Center" VerticalAlignment="Center" Margin="0"/>
                                </Grid>
                                <Button Visibility="{Binding _UiData.Clean_type, ConverterParameter=CLEAN_CLEAN_GRINDER, Converter={StaticResource CleanVisibleConverter}, Mode=TwoWay}" Grid.Row="1" Style="{DynamicResource CleanButtonStyle}"  Click ="clean_stop"   FontSize="36" Margin="520,283,520,7">Stop</Button>
                            </Grid>
                        </Grid>

                    </Grid>
                    <Grid Name="evo_machinesetting" Visibility="{Binding _UiData.is_DB_visible, ConverterParameter=Disabled, Converter={StaticResource BoolToVisibilityConverter}, Mode=TwoWay}" d:IsLocked="True" d:IsHidden="True" >
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="1*"/>
                            <ColumnDefinition Width="5*"/>
                        </Grid.ColumnDefinitions>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="80*"/>
                            <RowDefinition Height="617*"/>
                            <RowDefinition Height="95*"/>
                        </Grid.RowDefinitions>
                        <Border Background="#FF1E5D8F">
                            <TextBlock Text="{Binding _CrtEVOMachine.Name}" Foreground="White" TextAlignment="Center" HorizontalAlignment="Stretch" VerticalAlignment="Center" FontSize="28" FontWeight="Bold"></TextBlock>
                        </Border>
                        <Grid Grid.Column="1">
                            <Grid.RowDefinitions>
                                <RowDefinition Height="6*"/>
                                <RowDefinition Height="1*"/>
                            </Grid.RowDefinitions>
                            <Menu HorizontalAlignment="Right" VerticalAlignment="Center" Background="Transparent" Margin="0,0,10,0">
                                <MenuItem FontSize="32" Header="File" Foreground="Black">
                                    <MenuItem FontSize="32" Header="Import db File" Tag="1" Click="menu_check"/>
                                    <Separator/>
                                    <MenuItem FontSize="32" Header="Export db File" Tag="2" Click="menu_check"/>
                                </MenuItem>
                                <Separator/>
                                <MenuItem FontSize="32" Header="Tool" Foreground="Black">
                                    <MenuItem FontSize="32" Header="ComPort Setting" Tag="3" Click="menu_check"/>
                                    <Separator/>
                                    <MenuItem FontSize="32" Header="Extern tools">
                                        <MenuItem FontSize="32" Header="Picture Maker" Tag="5" Click="menu_check"/>
                                        <Separator/>
                                        <MenuItem FontSize="32" Header="USB Key Maker" Tag="6" Click="menu_check"/>
                                    </MenuItem>
                                    <Separator/>
                                </MenuItem>
                                <Separator/>
                                <MenuItem  Header="Help" FontSize="32"  Foreground="Black">
                                    <MenuItem FontSize="32" Header="Help Doucment" Tag="7" Click="menu_check"/>
                                    <Separator/>
                                    <MenuItem FontSize="32" Header="About this" Tag="8" Click="menu_check"/>
                                </MenuItem>
                            </Menu>
                            <Border Grid.Row="1" Margin="20,0,0,0" Background="Black"></Border>
                        </Grid>
                        <Grid Grid.Row="1" Grid.RowSpan="2">
                            <StackPanel VerticalAlignment="Stretch" HorizontalAlignment="Stretch"  Background="#FF8C8F96">
                                <!--//<RadioButton Foreground="White" Command="{Binding BtnCmd}" CommandParameter="280" FontSize="36" Style="{DynamicResource ListButtonStyle}" >Test</RadioButton>
                                //<RadioButton Foreground="White" Command="{Binding BtnCmd}" CommandParameter="281" FontSize="36" Style="{DynamicResource ListButtonStyle}">Calibration</RadioButton>-->
                            </StackPanel>
                        </Grid>
                        <Grid Grid.Row="2" Margin="20">
                            <Button Command="{Binding BtnCmd}" CommandParameter="2" Style="{DynamicResource HomeButtonStyle}"/>
                        </Grid>
                        <Grid Margin="20,0,0,0" Name="settingdetail"  Grid.Row="1" Grid.Column="1" Grid.RowSpan="2">
                            <ScrollViewer VerticalScrollBarVisibility="Visible"   Template="{DynamicResource ScrollViewerControlTemplate1}">
                                <Grid Height="1200">
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="4*"/>
                                        <RowDefinition Height="4*"/>
                                        <RowDefinition Height="3*"/>
                                        <RowDefinition Height="1*"/>
                                    </Grid.RowDefinitions>
                                    <!--DisplaySetting-->
                                    <Grid>
                                        <Grid.RowDefinitions>
                                            <RowDefinition Height="1.2*"/>
                                            <RowDefinition Height="1*"/>
                                            <RowDefinition Height="1*"/>
                                            <RowDefinition Height="1*"/>
                                            <RowDefinition Height="1*"/>
                                        </Grid.RowDefinitions>
                                        <Border Background="#FF8C8F96">
                                            <TextBlock Foreground="White" Text="Display Settings" HorizontalAlignment="Left" VerticalAlignment="Center" FontSize="40" Margin="18,20,0,20" ></TextBlock>
                                        </Border>
                                        <TextBlock Grid.Row="1"  Foreground="Black" Text="Date Time" HorizontalAlignment="Left" VerticalAlignment="Center" FontSize="36" Margin="18,16,0,15" ></TextBlock>
                                        <Border Grid.Row="1" BorderBrush="#FF8C8F96" BorderThickness="1" VerticalAlignment="Bottom"></Border>
                                        <TextBlock Grid.Row="2"  Foreground="Black" Text="LED Mode" HorizontalAlignment="Left" VerticalAlignment="Center" FontSize="36" Margin="18,16,0,15" ></TextBlock>
                                        <Border Grid.Row="2" BorderBrush="#FF8C8F96" BorderThickness="1" VerticalAlignment="Bottom"></Border>
                                        <TextBlock Grid.Row="3"  Foreground="Black" Text="LED Color" HorizontalAlignment="Left" VerticalAlignment="Center" FontSize="36" Margin="18,16,0,15" ></TextBlock>
                                        <Border Grid.Row="3" BorderBrush="#FF8C8F96" BorderThickness="1" VerticalAlignment="Bottom"></Border>
                                        <TextBlock Grid.Row="4"  Foreground="Black" Text="LED Brightness" HorizontalAlignment="Left" VerticalAlignment="Center" FontSize="36" Margin="18,16,0,15" ></TextBlock>
                                        <Border Grid.Row="4" BorderBrush="#FF8C8F96" BorderThickness="1" VerticalAlignment="Bottom"></Border>
                                        <extToolkit:DateTimePicker  Value="{Binding _MachineSetingInfo.Dt, Mode=TwoWay}"  Tag="Date" FontSize="24" TextAlignment="Center" Grid.Row="1"  Foreground="Black" Width="318" Height="40"  HorizontalAlignment="Right" VerticalAlignment="Center" Margin="0,18,24,19">
                                            <i:Interaction.Triggers>
                                                <i:EventTrigger EventName="ValueChanged">
                                                    <i:InvokeCommandAction Command="{Binding BtnCmd}" CommandParameter="771"/>
                                                </i:EventTrigger>
                                            </i:Interaction.Triggers>
                                        </extToolkit:DateTimePicker>
                                        <ComboBox Tag="LED"  SelectedIndex="{Binding _MachineSetingInfo.LedModeIndex, Mode=TwoWay}" FontSize="24" HorizontalContentAlignment="Center" Grid.Row="2"  Foreground="Black" Width="200" Height="40"  HorizontalAlignment="Right" VerticalAlignment="Center" Margin="0,19,24,18">
                                            <i:Interaction.Triggers>
                                                <i:EventTrigger EventName="SelectionChanged">
                                                    <i:InvokeCommandAction Command="{Binding BtnCmd}" CommandParameter="768"/>
                                                </i:EventTrigger>
                                            </i:Interaction.Triggers>
                                            <ComboBoxItem>Always on</ComboBoxItem>
                                            <ComboBoxItem>Flash</ComboBoxItem>
                                            <ComboBoxItem>Breath</ComboBoxItem>
                                            <ComboBoxItem>Circling</ComboBoxItem>
                                            <ComboBoxItem>Off</ComboBoxItem>
                                        </ComboBox>
                                        <ComboBox   Tag="LED"  SelectedIndex="{Binding _MachineSetingInfo.LedColorIndex, Mode=TwoWay}" FontSize="24" HorizontalContentAlignment="Center" Grid.Row="3"  Foreground="Black" Width="200" Height="40"  HorizontalAlignment="Right" VerticalAlignment="Center" Margin="0,22,24,15">
                                            <i:Interaction.Triggers>
                                                <i:EventTrigger EventName="SelectionChanged">
                                                    <i:InvokeCommandAction Command="{Binding BtnCmd}" CommandParameter="768"/>
                                                </i:EventTrigger>
                                            </i:Interaction.Triggers>
                                            <ComboBoxItem>Red</ComboBoxItem>
                                            <ComboBoxItem>Green</ComboBoxItem>
                                            <ComboBoxItem>Blue</ComboBoxItem>
                                            <ComboBoxItem>Orange</ComboBoxItem>
                                            <ComboBoxItem>Yellow</ComboBoxItem>
                                            <ComboBoxItem>Purple</ComboBoxItem>
                                            <ComboBoxItem>White</ComboBoxItem>
                                        </ComboBox>
                                        <ComboBox  Tag="LED" SelectedIndex="{Binding _MachineSetingInfo.LedbtsIndex, Mode=TwoWay}"  FontSize="24" HorizontalContentAlignment="Center" 
 Grid.Row="4"  Foreground="Black" Width="200" Height="40"  HorizontalAlignment="Right" VerticalAlignment="Center" Margin="0,16,24,21">
                                            <i:Interaction.Triggers>
                                                <i:EventTrigger EventName="SelectionChanged">
                                                    <i:InvokeCommandAction Command="{Binding BtnCmd}" CommandParameter="768"/>
                                                </i:EventTrigger>
                                            </i:Interaction.Triggers>
                                            <ComboBoxItem >Normal</ComboBoxItem>
                                            <ComboBoxItem>Soft</ComboBoxItem>
                                        </ComboBox>
                                    </Grid>
                                    <!--Temprature Setting-->
                                    <Grid Grid.Row="1">
                                        <Grid.RowDefinitions>
                                            <RowDefinition Height="1.2*"/>
                                            <RowDefinition Height="1*"/>
                                            <RowDefinition Height="1*"/>
                                            <RowDefinition Height="1*"/>
                                            <RowDefinition Height="1*"/>
                                        </Grid.RowDefinitions>
                                        <Border Background="#FF8C8F96">
                                            <TextBlock Foreground="White" Text="Temprature Settings" HorizontalAlignment="Left" VerticalAlignment="Center" FontSize="40" Margin="18,20,0,20" ></TextBlock>
                                        </Border>
                                        <TextBlock Grid.Row="1"  Foreground="Black" Text="Tank Temprature" HorizontalAlignment="Left" VerticalAlignment="Center" FontSize="36" Margin="18,16,0,15" ></TextBlock>
                                        <Border Grid.Row="1" BorderBrush="#FF8C8F96" BorderThickness="1" VerticalAlignment="Bottom"></Border>
                                        <TextBlock Grid.Row="2"  Foreground="Black" Text="Warning Temprature" HorizontalAlignment="Left" VerticalAlignment="Center" FontSize="36" Margin="18,16,0,15" ></TextBlock>
                                        <Border Grid.Row="2" BorderBrush="#FF8C8F96" BorderThickness="1" VerticalAlignment="Bottom"></Border>
                                        <TextBlock Grid.Row="3"  Foreground="Black" Text="Blocking Temprature" HorizontalAlignment="Left" VerticalAlignment="Center" FontSize="36" Margin="18,16,0,15" ></TextBlock>
                                        <Border Grid.Row="3" BorderBrush="#FF8C8F96" BorderThickness="1" VerticalAlignment="Bottom"></Border>
                                        <TextBlock Grid.Row="4"  Foreground="Black" Text="Energy Save Temprature" HorizontalAlignment="Left" VerticalAlignment="Center" FontSize="36" Margin="18,16,0,15" ></TextBlock>
                                        <Border Grid.Row="4" BorderBrush="#FF8C8F96" BorderThickness="1" VerticalAlignment="Bottom"></Border>
                                        <extToolkit:ByteUpDown Tag="Tank"  Value="{Binding _MachineSetingInfo.Temptank}" FontSize="24" TextAlignment="Center" Grid.Row="1" HorizontalAlignment="Right" VerticalAlignment="Center" Width="100" Height="40" Margin="0,10,111,10">
                                            <i:Interaction.Triggers>
                                                <i:EventTrigger EventName="ValueChanged">
                                                    <i:InvokeCommandAction Command="{Binding BtnCmd}" CommandParameter="769"/>
                                                </i:EventTrigger>
                                            </i:Interaction.Triggers>
                                        </extToolkit:ByteUpDown>
                                        <extToolkit:ByteUpDown Tag="Tank"  Value="{Binding _MachineSetingInfo.Tempwarn}" FontSize="24" TextAlignment="Center"  Grid.Row="2" HorizontalAlignment="Right" VerticalAlignment="Center" Width="100" Height="40" Margin="0,10,111,10">
                                            <i:Interaction.Triggers>
                                                <i:EventTrigger EventName="ValueChanged">
                                                    <i:InvokeCommandAction Command="{Binding BtnCmd}" CommandParameter="769"/>
                                                </i:EventTrigger>
                                            </i:Interaction.Triggers>
                                        </extToolkit:ByteUpDown>
                                        <extToolkit:ByteUpDown Tag="Tank"  Value="{Binding _MachineSetingInfo.Tempblock}"  FontSize="24" TextAlignment="Center"   Grid.Row="3" HorizontalAlignment="Right" VerticalAlignment="Center" Width="100" Height="40" Margin="0,10,111,10">
                                            <i:Interaction.Triggers>
                                                <i:EventTrigger EventName="ValueChanged">
                                                    <i:InvokeCommandAction Command="{Binding BtnCmd}" CommandParameter="769"/>
                                                </i:EventTrigger>
                                            </i:Interaction.Triggers>
                                        </extToolkit:ByteUpDown>
                                        <extToolkit:ByteUpDown Tag="Tank"  Value="{Binding _MachineSetingInfo.Tempsave}"  FontSize="24" TextAlignment="Center"   Grid.Row="4" HorizontalAlignment="Right" VerticalAlignment="Center" Width="100" Height="40" Margin="0,10,111,10">
                                            <i:Interaction.Triggers>
                                                <i:EventTrigger EventName="ValueChanged">
                                                    <i:InvokeCommandAction Command="{Binding BtnCmd}" CommandParameter="769"/>
                                                </i:EventTrigger>
                                            </i:Interaction.Triggers>
                                        </extToolkit:ByteUpDown>
                                        <TextBlock Grid.Row="1"  Foreground="Black" Text="90~98" HorizontalAlignment="Right" VerticalAlignment="Center" FontSize="24" Margin="0,24,6,23" ></TextBlock>
                                        <TextBlock Grid.Row="2"  Foreground="Black" Text="85~90" HorizontalAlignment="Right" VerticalAlignment="Center" FontSize="24" Margin="0,24,6,23" ></TextBlock>
                                        <TextBlock Grid.Row="3"  Foreground="Black" Text="65~85" HorizontalAlignment="Right" VerticalAlignment="Center" FontSize="24" Margin="0,24,6,23" ></TextBlock>
                                        <TextBlock Grid.Row="4"  Foreground="Black" Text="50~70" HorizontalAlignment="Right" VerticalAlignment="Center" FontSize="24" Margin="0,24,6,23" ></TextBlock>
                                    </Grid>
                                    <!--Additional Settings-->
                                    <Grid Grid.Row="2">
                                        <Grid.RowDefinitions>
                                            <RowDefinition Height="1.2*"/>
                                            <RowDefinition Height="1*"/>
                                            <RowDefinition Height="1*"/>
                                            <RowDefinition Height="1*"/>
                                        </Grid.RowDefinitions>
                                        <Border Background="#FF8C8F96">
                                            <TextBlock Foreground="White" Text="Additional Settings" HorizontalAlignment="Left" VerticalAlignment="Center" FontSize="40" Margin="18,20,0,20" ></TextBlock>
                                        </Border>
                                        <TextBlock Grid.Row="1"  Foreground="Black" Text="Fan Speed" HorizontalAlignment="Left" VerticalAlignment="Center" FontSize="36" Margin="18,16,0,15" ></TextBlock>
                                        <Border Grid.Row="1" BorderBrush="#FF8C8F96" BorderThickness="1" VerticalAlignment="Bottom"></Border>
                                        <TextBlock Grid.Row="2"  Foreground="Black" Text="Fan Run Time" HorizontalAlignment="Left" VerticalAlignment="Center" FontSize="36" Margin="18,16,0,15" ></TextBlock>
                                        <Border Grid.Row="2" BorderBrush="#FF8C8F96" BorderThickness="1" VerticalAlignment="Bottom"></Border>
                                        <TextBlock Grid.Row="3"  Foreground="Black" Text="Fan Run Continuously" HorizontalAlignment="Left" VerticalAlignment="Center" FontSize="36" Margin="18,16,0,15" ></TextBlock>
                                        <Border Grid.Row="3" BorderBrush="#FF8C8F96" BorderThickness="1" VerticalAlignment="Bottom"></Border>
                                        <extToolkit:ByteUpDown Tag="Fan"   Value="{Binding _MachineSetingInfo.FanSpd, Mode=TwoWay}" FontSize="24" TextAlignment="Center"  Grid.Row="1" HorizontalAlignment="Right" VerticalAlignment="Center" Width="100" Height="40" Margin="0,10,111,10">
                                            <i:Interaction.Triggers>
                                                <i:EventTrigger EventName="ValueChanged">
                                                    <i:InvokeCommandAction Command="{Binding BtnCmd}" CommandParameter="770"/>
                                                </i:EventTrigger>
                                            </i:Interaction.Triggers>
                                        </extToolkit:ByteUpDown>
                                        <extToolkit:ByteUpDown Tag="Fan"  Value="{Binding _MachineSetingInfo.Fanruntm, Mode=TwoWay}" FontSize="24" TextAlignment="Center"  Grid.Row="2" HorizontalAlignment="Right" VerticalAlignment="Center" Width="100" Height="40" Margin="0,10,111,10">
                                            <i:Interaction.Triggers>
                                                <i:EventTrigger EventName="ValueChanged">
                                                    <i:InvokeCommandAction Command="{Binding BtnCmd}" CommandParameter="770"/>
                                                </i:EventTrigger>
                                            </i:Interaction.Triggers>
                                        </extToolkit:ByteUpDown>
                                        <TextBlock Grid.Row="1"  Foreground="Black" Text="20~60" HorizontalAlignment="Right" VerticalAlignment="Center" FontSize="24" Margin="0,24,6,23" ></TextBlock>
                                        <TextBlock Grid.Row="2"  Foreground="Black" Text="0~120" HorizontalAlignment="Right" VerticalAlignment="Center" FontSize="24" Margin="0,24,6,23" ></TextBlock>
                                        <ToggleButton  Tag="Fan" Grid.Row="3" Width="100" Margin="10"  HorizontalAlignment="Right" VerticalAlignment="Center" IsChecked="{Binding _MachineSetingInfo.IsFanContinous, Mode=TwoWay}" Style="{StaticResource ToggleButtonSelectStyle}" >
                                            <i:Interaction.Triggers>
                                                <i:EventTrigger EventName="Click">
                                                    <i:InvokeCommandAction Command="{Binding BtnCmd}" CommandParameter="770"/>
                                                </i:EventTrigger>
                                            </i:Interaction.Triggers>
                                        </ToggleButton>
                                    </Grid>
                                    <!--Factory reset-->
                                    <Grid Grid.Row="3">
                                        <Button Margin="300,20" Command="{Binding BtnCmd}" CommandParameter="772">reset</Button>
                                    </Grid>
                                </Grid>
                            </ScrollViewer>
                        </Grid>
                    </Grid>
                    <Grid Name="evo_machineupdate" Visibility="{Binding _UiData.is_Update_visible, ConverterParameter=Disabled, Converter={StaticResource BoolToVisibilityConverter}, Mode=TwoWay}" d:IsHidden="True" d:IsLocked="True">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="1*"/>
                            <ColumnDefinition Width="5*"/>
                        </Grid.ColumnDefinitions>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="80*"/>
                            <RowDefinition Height="617*"/>
                            <RowDefinition Height="95*"/>
                        </Grid.RowDefinitions>
                        <Border Background="#FF1E5D8F">
                            <TextBlock Text="{Binding _CrtEVOMachine.Name}" Foreground="White" TextAlignment="Center" HorizontalAlignment="Stretch" VerticalAlignment="Center" FontSize="28" FontWeight="Bold"></TextBlock>
                        </Border>
                        <Grid Grid.Column="1">
                            <Grid.RowDefinitions>
                                <RowDefinition Height="6*"/>
                                <RowDefinition Height="1*"/>
                            </Grid.RowDefinitions>
                            <Menu HorizontalAlignment="Right" VerticalAlignment="Center" Background="Transparent" Margin="0,0,10,0">
                                <MenuItem FontSize="32" Header="File" Foreground="Black">
                                    <MenuItem FontSize="32" Header="Import db File" Tag="1" Click="menu_check"/>
                                    <Separator/>
                                    <MenuItem FontSize="32" Header="Export db File" Tag="2" Click="menu_check"/>
                                </MenuItem>
                                <Separator/>
                                <MenuItem FontSize="32" Header="Tool" Foreground="Black">
                                    <MenuItem FontSize="32" Header="ComPort Setting" Tag="3" Click="menu_check"/>
                                    <Separator/>
                                    <MenuItem FontSize="32" Header="Extern tools">
                                        <MenuItem FontSize="32" Header="Picture Maker" Tag="5" Click="menu_check"/>
                                        <Separator/>
                                        <MenuItem FontSize="32" Header="USB Key Maker" Tag="6" Click="menu_check"/>
                                    </MenuItem>
                                    <Separator/>
                                </MenuItem>
                                <Separator/>
                                <MenuItem  Header="Help" FontSize="32"  Foreground="Black">
                                    <MenuItem FontSize="32" Header="Help Doucment" Tag="7" Click="menu_check"/>
                                    <Separator/>
                                    <MenuItem FontSize="32" Header="About this" Tag="8" Click="menu_check"/>
                                </MenuItem>
                            </Menu>
                            <Border Grid.Row="1" Margin="20,0,0,0" Background="Black"></Border>
                        </Grid>
                        <Grid Grid.Row="1" Grid.RowSpan="2">
                            <StackPanel VerticalAlignment="Stretch" HorizontalAlignment="Stretch"  Background="#FF8C8F96">
                            </StackPanel>
                        </Grid>
                        <Grid Grid.Row="2" Margin="20">
                            <Button Command="{Binding BtnCmd}" CommandParameter="2" Style="{DynamicResource HomeButtonStyle}"/>
                        </Grid>
                        <Grid Margin="20,0,0,0"  Grid.Row="1" Grid.Column="1" Grid.RowSpan="2">
                            <Grid.RowDefinitions>
                                <RowDefinition Height="1*"/>
                                <RowDefinition Height="8*"/>
                            </Grid.RowDefinitions>
                            <Border Grid.Row="0"  Background="#FF8C8F96">
                                <TextBlock Foreground="White" Text="Machine Update" FontSize="36" VerticalAlignment="Center" HorizontalAlignment="Left" d:IsHidden="False" Margin="20,22,0,22"/>
                            </Border>
                            <Grid Grid.Row="1" Background="WhiteSmoke" d:IsHidden="False">
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="3*"/>
                                    <RowDefinition Height="2*"/>
                                </Grid.RowDefinitions>
                                <Grid Grid.Row="1" d:IsHidden="False">
                                    <ListBox FontSize="20" ScrollViewer.HorizontalScrollBarVisibility="Auto" ScrollViewer.VerticalScrollBarVisibility="Visible" ItemsSource="{Binding _EvoUpdate.UpdateInfo}" d:IsHidden="False" SourceUpdated="lst_update" />
                                </Grid>
                                <Grid Grid.Row="0" d:IsHidden="False">
                                    <Canvas d:IsHidden="False">
                                        <!--<TextBlock Text="Recipe file:" FontSize="24" Canvas.Left="34" Canvas.Top="28" d:IsHidden="False"/>
                                        <TextBox FontSize="24" MinWidth="600" Canvas.Left="34" Canvas.Top="65" x:Name="tbxrcp" Text="{Binding _EvoUpdate.RcpFileName, Mode=TwoWay}" Width="600" d:IsHidden="False"/>
                                        <Button Tag="RCP" Content="....." MinWidth="100" FontSize="24" HorizontalContentAlignment="Center" VerticalContentAlignment="Center" Canvas.Left="686" Canvas.Top="65" Click="Button_Click_1" d:IsHidden="False"/>
                                        <Button Command="{Binding ComCmd}" CommandParameter="256" Content="transfer" MinWidth="100" FontSize="24" HorizontalContentAlignment="Center" VerticalContentAlignment="Center" Canvas.Left="860" Canvas.Top="65" d:IsHidden="False"/>
                                        <TextBlock Text="firmware file:" FontSize="24" Canvas.Left="34" Canvas.Top="128" d:IsHidden="False"/>
                                        <TextBox FontSize="24" MinWidth="600" Canvas.Left="34" Canvas.Top="165" x:Name="tbxfirm" Text="{Binding _EvoUpdate.FirmFileName, Mode=TwoWay}" Width="600" d:IsHidden="False"/>
                                        <Button Tag="FIRM" Click="Button_Click_1" Content="....." MinWidth="100" FontSize="24" HorizontalContentAlignment="Center" VerticalContentAlignment="Center" Canvas.Left="686" Canvas.Top="165" d:IsHidden="False"/>
                                        <Button Command="{Binding ComCmd}" CommandParameter="257" Content="transfer" MinWidth="100" FontSize="24" HorizontalContentAlignment="Center" VerticalContentAlignment="Center" Canvas.Left="860" Canvas.Top="174" d:IsHidden="False"/>-->
                                        <ProgressBar Width="752" Height="30" Canvas.Left="34" Canvas.Top="268" Maximum="{Binding _EvoUpdate.TotalAmount}" Value="{Binding _EvoUpdate.CrtAmount}" d:IsHidden="False"/>
                                        <Grid MinHeight="30" MinWidth="90" Canvas.Left="850" Canvas.Top="268" d:IsHidden="False">
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="1*"/>
                                                <ColumnDefinition Width="0.5*"/>
                                                <ColumnDefinition Width="1*"/>
                                            </Grid.ColumnDefinitions>
                                            <TextBlock Grid.Column="1" Text="/" FontSize="24" HorizontalAlignment="Center" VerticalAlignment="Center" />
                                            <TextBlock Grid.Column="0"  Text="{Binding _EvoUpdate.CrtAmount, Mode=TwoWay}" FontSize="24" HorizontalAlignment="Center" VerticalAlignment="Center" />
                                            <TextBlock Grid.Column="2" Text="{Binding _EvoUpdate.TotalAmount, Mode=TwoWay}" FontSize="24" HorizontalAlignment="Center" VerticalAlignment="Center" />
                                        </Grid>
                                        <Button  Command="{Binding BtnCmd}" CommandParameter="4" FontSize="24" Content="Update Recipe" Margin="0" Height="48" Canvas.Left="432" Canvas.Top="333" Width="354" d:IsHidden="False" />
                                        <Button  Command="{Binding BtnCmd}" CommandParameter="3" FontSize="24" Content="Update Ingredient" d:IsHidden="False" Height="48" Canvas.Left="34" Canvas.Top="333" Width="354" />
                                    </Canvas>
                                </Grid>
                            </Grid>
                        </Grid>
                    </Grid>
                    <Grid  Name="evo_error" Visibility="{Binding _UiData.is_com_error_visible, ConverterParameter=Disabled, Converter={StaticResource BoolToVisibilityConverter}, Mode=TwoWay}" d:IsHidden="True" d:IsLocked="True">
                        <Grid.RowDefinitions>
                            <RowDefinition Height="44*"/>
                            <RowDefinition Height="526*"/>
                            <RowDefinition Height="30*"/>
                        </Grid.RowDefinitions>
                        <Grid Grid.Row="1" Background="#FF366363" Opacity="0.3">
                            <TextBlock Text="Communication error" FontSize="60" HorizontalAlignment="Center" VerticalAlignment="Center" Foreground="red"></TextBlock>
                        </Grid>
                    </Grid>
                </Grid>
    </Viewbox>
</Window>
